
> solana-earphone-frontend@1.0.0 test:coverage
> jest --coverage

FAIL src/components/__tests__/ThemeToggle.test.jsx
  ● Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL src/components/__tests__/accessibility.test.jsx
  ● Test suite failed to run

    Cannot find module '../../../hooks/useVoice' from 'src/components/__tests__/accessibility.test.jsx'

      11 |
      12 | // 模拟 useVoice hook
    > 13 | jest.mock('../../../hooks/useVoice', () => ({
         |      ^
      14 |   useVoice: () => ({
      15 |     isRecording: false,
      16 |     transcript: '',

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.mock (src/components/__tests__/accessibility.test.jsx:13:6)

FAIL src/contexts/__tests__/AuthContext.test.jsx
  ● Test suite failed to run

    ReferenceError: Cannot access 'mockLogin' before initialization

       6 |
       7 | jest.mock('../../services/apiClient', () => ({
    >  8 |   login: mockLogin,
         |          ^
       9 |   refreshToken: mockRefreshToken
      10 | }));
      11 |

      at mockLogin (src/contexts/__tests__/AuthContext.test.jsx:8:10)
      at Object.require (src/contexts/AuthContext.jsx:2:1)
      at Object.require (src/contexts/__tests__/AuthContext.test.jsx:12:1)

PASS src/utils/__tests__/validation.test.js
PASS src/utils/__tests__/helpers.test.js
PASS src/utils/__tests__/intentClassifier.test.js
PASS src/hooks/__tests__/useTTS.test.js
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      46 |   it('should initialize with default values', () => {
      47 |     let hook;
    > 48 |     render(<HookTestComponent callback={h => { hook = h; }} />);
         |           ^
      49 |     
      50 |     expect(hook.isSpeaking).toBe(false);
      51 |     expect(hook.error).toBeNull();

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/hooks/__tests__/useTTS.test.js:48:11)

FAIL src/hooks/__tests__/useTTS.comprehensive.test.js
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      33 | describe('useTTS hook', () => {
      34 |   it('should initialize with default values', () => {
    > 35 |     const { result } = renderHook(() => useTTS());
         |                                  ^
      36 |     
      37 |     expect(result.current.isSpeaking).toBe(false);
      38 |     expect(result.current.error).toBeNull();

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at render (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useTTS.comprehensive.test.js:35:34)

  ● useTTS hook › should handle speaking error

    expect(received).toBe(expected) // Object.is equality

    Expected: "语音合成失败，请重试"
    Received: "语音合成出错: synthesis-failed"

      156 |     });
      157 |
    > 158 |     expect(result.current.error).toBe('语音合成失败，请重试');
          |                                  ^
      159 |     expect(result.current.isSpeaking).toBe(false);
      160 |   });
      161 |

      at Object.toBe (src/hooks/__tests__/useTTS.comprehensive.test.js:158:34)

  ● useTTS hook › should handle unsupported browser

    expect(received).toBe(expected) // Object.is equality

    Expected: "您的浏览器不支持语音合成功能"
    Received: "启动语音合成失败: 您的浏览器不支持语音合成功能"

      186 |     });
      187 |
    > 188 |     expect(result.current.error).toBe('您的浏览器不支持语音合成功能');
          |                                  ^
      189 |     expect(result.current.isSpeaking).toBe(false);
      190 |
      191 |     // 恢复API

      at Object.toBe (src/hooks/__tests__/useTTS.comprehensive.test.js:188:34)

  ● useTTS hook › should not start new speech if already speaking

    TypeError: Cannot read properties of undefined (reading 'onstart')

      217 |
      218 |     act(() => {
    > 219 |       if (utteranceInstance.onstart) {
          |                             ^
      220 |         utteranceInstance.onstart();
      221 |       }
      222 |     });

      at onstart (src/hooks/__tests__/useTTS.comprehensive.test.js:219:29)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/hooks/__tests__/useTTS.comprehensive.test.js:218:8)

  ● useTTS hook › should configure utterance properties correctly

    TypeError: Cannot read properties of undefined (reading 'lang')

      255 |     });
      256 |
    > 257 |     expect(utteranceInstance.lang).toBe('zh-CN');
          |                              ^
      258 |     expect(utteranceInstance.rate).toBe(1.0);
      259 |     expect(utteranceInstance.pitch).toBe(1.0);
      260 |     expect(utteranceInstance.volume).toBe(1.0);

      at Object.lang (src/hooks/__tests__/useTTS.comprehensive.test.js:257:30)

  ● useTTS hook › should clear error when speaking successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: "您的浏览器不支持语音合成功能"
    Received: "启动语音合成失败: 您的浏览器不支持语音合成功能"

      273 |     });
      274 |
    > 275 |     expect(result.current.error).toBe('您的浏览器不支持语音合成功能');
          |                                  ^
      276 |
      277 |     // 恢复语音合成支持
      278 |     global.speechSynthesis = originalSpeechSynthesis;

      at Object.toBe (src/hooks/__tests__/useTTS.comprehensive.test.js:275:34)

PASS src/contexts/__tests__/ThemeContext.test.jsx
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      34 | describe('ThemeContext', () => {
      35 |   it('should provide default theme', () => {
    > 36 |     render(
         |           ^
      37 |       <ThemeProvider>
      38 |         <TestComponent />
      39 |       </ThemeProvider>

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/contexts/__tests__/ThemeContext.test.jsx:36:11)

FAIL src/services/__tests__/apiClient.test.js
  ● apiClient › Authentication › should login successfully with valid credentials

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/auth/token", {"body": "username=testuser&password=password123", "headers": {"Content-Type": "application/x-www-form-urlencoded"}, "method": "POST"}

    Number of calls: 0

      42 |       const result = await apiClient.login('testuser', 'password123');
      43 |
    > 44 |       expect(fetch).toHaveBeenCalledWith('/v1/api/auth/token', {
         |                     ^
      45 |         method: 'POST',
      46 |         headers: {
      47 |           'Content-Type': 'application/x-www-form-urlencoded'

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:44:21)

  ● apiClient › Authentication › should throw error for invalid credentials

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      61 |
      62 |       await expect(apiClient.login('testuser', 'wrongpassword'))
    > 63 |         .rejects.toThrow('Invalid credentials');
         |                  ^
      64 |     });
      65 |
      66 |     it('should handle network errors during login', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:63:18)

  ● apiClient › Authentication › should handle network errors during login

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      68 |
      69 |       await expect(apiClient.login('testuser', 'password123'))
    > 70 |         .rejects.toThrow('Network error');
         |                  ^
      71 |     });
      72 |
      73 |     it('should logout successfully', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:70:18)

  ● apiClient › Authentication › should logout successfully

    TypeError: _apiClient.default.logout is not a function

      79 |       localStorageMock.getItem.mockReturnValue('mock-token');
      80 |
    > 81 |       const result = await apiClient.logout();
         |                                      ^
      82 |
      83 |       expect(fetch).toHaveBeenCalledWith('/v1/api/auth/logout', {
      84 |         method: 'POST',

      at Object.logout (src/services/__tests__/apiClient.test.js:81:38)

  ● apiClient › Voice Interpretation › should interpret user query successfully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/interpret", {"body": "{\"query\":\"查询上海天气\"}", "headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "POST"}

    Number of calls: 0

      117 |       const result = await apiClient.interpret({ query: '查询上海天气' });
      118 |
    > 119 |       expect(fetch).toHaveBeenCalledWith('/v1/api/interpret', {
          |                     ^
      120 |         method: 'POST',
      121 |         headers: {
      122 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:119:21)

  ● apiClient › Voice Interpretation › should handle interpretation errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      137 |
      138 |       await expect(apiClient.interpret({ query: '' }))
    > 139 |         .rejects.toThrow('Invalid query format');
          |                  ^
      140 |     });
      141 |
      142 |     it('should include session ID in interpretation request', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:139:18)

  ● apiClient › Voice Interpretation › should include session ID in interpretation request

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/interpret", {"body": "{\"query\":\"测试查询\",\"session_id\":\"existing-session-456\"}", "headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "POST"}

    Number of calls: 0

      158 |       });
      159 |
    > 160 |       expect(fetch).toHaveBeenCalledWith('/v1/api/interpret', {
          |                     ^
      161 |         method: 'POST',
      162 |         headers: {
      163 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:160:21)

  ● apiClient › Tool Execution › should execute tools successfully

    ReferenceError: tool_calls is not defined

      201 |       }];
      202 |
    > 203 |       const result = await apiClient.execute({ tool_calls });
          |                                                ^
      204 |
      205 |       expect(fetch).toHaveBeenCalledWith('/v1/api/execute', {
      206 |         method: 'POST',

      at Object.tool_calls (src/services/__tests__/apiClient.test.js:203:48)

  ● apiClient › Tool Execution › should handle execution errors

    ReferenceError: tool_calls is not defined

      227 |       }];
      228 |
    > 229 |       await expect(apiClient.execute({ tool_calls }))
          |                                        ^
      230 |         .rejects.toThrow('Tool execution failed');
      231 |     });
      232 |

      at Object.tool_calls (src/services/__tests__/apiClient.test.js:229:40)

  ● apiClient › Tool Execution › should include session ID in execution request

    ReferenceError: tool_calls is not defined

      248 |
      249 |       await apiClient.execute({ 
    > 250 |         tool_calls,
          |         ^
      251 |         session_id: 'test-session-789'
      252 |       });
      253 |

      at Object.tool_calls (src/services/__tests__/apiClient.test.js:250:9)

  ● apiClient › Tools Management › should fetch tools list

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/tools", {"headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      294 |       const result = await apiClient.getTools();
      295 |
    > 296 |       expect(fetch).toHaveBeenCalledWith('/v1/api/tools', {
          |                     ^
      297 |         method: 'GET',
      298 |         headers: {
      299 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:296:21)

  ● apiClient › Tools Management › should handle tools fetch error

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      313 |
      314 |       await expect(apiClient.getTools())
    > 315 |         .rejects.toThrow('Access denied');
          |                  ^
      316 |     });
      317 |   });
      318 |

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:315:18)

  ● apiClient › User Configuration › should fetch user configuration

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/user/config", {"headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      340 |       const result = await apiClient.getUserConfig();
      341 |
    > 342 |       expect(fetch).toHaveBeenCalledWith('/v1/api/user/config', {
          |                     ^
      343 |         method: 'GET',
      344 |         headers: {
      345 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:342:21)

  ● apiClient › User Configuration › should update user configuration

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/user/config", {"body": "{\"theme\":\"light\",\"language\":\"en-US\",\"voiceSettings\":{\"rate\":1.2,\"pitch\":1.1,\"volume\":0.8}}", "headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "PUT"}

    Number of calls: 0

      374 |       const result = await apiClient.updateUserConfig(config);
      375 |
    > 376 |       expect(fetch).toHaveBeenCalledWith('/v1/api/user/config', {
          |                     ^
      377 |         method: 'PUT',
      378 |         headers: {
      379 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:376:21)

  ● apiClient › Authorization Headers › should include authorization header when token exists

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/tools", {"headers": {"Authorization": "Bearer test-token-123", "Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      398 |       await apiClient.getTools();
      399 |
    > 400 |       expect(fetch).toHaveBeenCalledWith('/v1/api/tools', {
          |                     ^
      401 |         method: 'GET',
      402 |         headers: {
      403 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:400:21)

  ● apiClient › Authorization Headers › should not include authorization header when no token

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/tools", {"headers": {"Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      417 |       await apiClient.getTools();
      418 |
    > 419 |       expect(fetch).toHaveBeenCalledWith('/v1/api/tools', {
          |                     ^
      420 |         method: 'GET',
      421 |         headers: {
      422 |           'Content-Type': 'application/json'

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:419:21)

  ● apiClient › Error Handling › should handle 404 errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      437 |
      438 |       await expect(apiClient.getTools())
    > 439 |         .rejects.toThrow('Not found');
          |                  ^
      440 |     });
      441 |
      442 |     it('should handle 500 errors', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:439:18)

  ● apiClient › Error Handling › should handle 500 errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      450 |
      451 |       await expect(apiClient.interpret({ query: 'test' }))
    > 452 |         .rejects.toThrow('Internal server error');
          |                  ^
      453 |     });
      454 |
      455 |     it('should handle malformed JSON responses', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:452:18)

  ● apiClient › Error Handling › should handle malformed JSON responses

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      463 |
      464 |       await expect(apiClient.execute({ tool_calls: [] }))
    > 465 |         .rejects.toThrow('Request failed with status 400');
          |                  ^
      466 |     });
      467 |
      468 |     it('should handle network timeout errors', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:465:18)

  ● apiClient › Error Handling › should handle network timeout errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      472 |
      473 |       await expect(apiClient.getTools())
    > 474 |         .rejects.toThrow('Request timeout');
          |                  ^
      475 |     });
      476 |   });
      477 |

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:474:18)

  ● apiClient › Request Configuration › should use correct base URL

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: StringContaining "/v1/api/tools", Any<Object>

    Number of calls: 0

      487 |       await apiClient.getTools();
      488 |
    > 489 |       expect(fetch).toHaveBeenCalledWith(
          |                     ^
      490 |         expect.stringContaining('/v1/api/tools'),
      491 |         expect.any(Object)
      492 |       );

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:489:21)

  ● apiClient › Request Configuration › should set correct content type for JSON requests

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<String>, ObjectContaining {"headers": ObjectContaining {"Content-Type": "application/json"}}

    Number of calls: 0

      503 |       await apiClient.interpret({ query: 'test' });
      504 |
    > 505 |       expect(fetch).toHaveBeenCalledWith(
          |                     ^
      506 |         expect.any(String),
      507 |         expect.objectContaining({
      508 |           headers: expect.objectContaining({

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:505:21)

  ● apiClient › Request Configuration › should set correct content type for form requests

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<String>, ObjectContaining {"headers": ObjectContaining {"Content-Type": "application/x-www-form-urlencoded"}}

    Number of calls: 0

      521 |       await apiClient.login('user', 'pass');
      522 |
    > 523 |       expect(fetch).toHaveBeenCalledWith(
          |                     ^
      524 |         expect.any(String),
      525 |         expect.objectContaining({
      526 |           headers: expect.objectContaining({

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:523:21)

FAIL src/hooks/__tests__/useVoice.test.js
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      28 | describe('useVoice hook', () => {
      29 |   it('should initialize with default values', () => {
    > 30 |     const { result } = renderHook(() => useVoice());
         |                                  ^
      31 |     
      32 |     expect(result.current.isRecording).toBe(false);
      33 |     expect(result.current.transcript).toBe('');

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at render (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useVoice.test.js:30:34)

  ● useVoice hook › should stop recording when stopRecording is called

    ReferenceError: hook is not defined

      66 |     const mockStop = jest.fn();
      67 |     await act(async () => {
    > 68 |       await hook.startRecording();
         |       ^
      69 |       await hook.stopRecording();
      70 |     });
      71 |     expect(hook.isRecording).toBe(false);

      at src/hooks/__tests__/useVoice.test.js:68:7
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/hooks/__tests__/useVoice.test.js:67:14)

FAIL src/hooks/__tests__/useVoice.comprehensive.test.js
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      31 | describe('useVoice hook', () => {
      32 |   it('should initialize with default values', () => {
    > 33 |     const { result } = renderHook(() => useVoice());
         |                                  ^
      34 |     
      35 |     expect(result.current.isRecording).toBe(false);
      36 |     expect(result.current.transcript).toBe('');

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at render (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/hooks/__tests__/useVoice.comprehensive.test.js:33:34)

  ● useVoice hook › should handle speech recognition error

    expect(received).toBe(expected) // Object.is equality

    Expected: "网络错误，请检查网络连接"
    Received: "语音识别出错: network"

      168 |     });
      169 |
    > 170 |     expect(result.current.error).toBe('网络错误，请检查网络连接');
          |                                  ^
      171 |     expect(result.current.isRecording).toBe(false);
      172 |   });
      173 |

      at Object.toBe (src/hooks/__tests__/useVoice.comprehensive.test.js:170:34)

  ● useVoice hook › should handle unsupported browser

    expect(received).toBe(expected) // Object.is equality

    Expected: "您的浏览器不支持语音识别功能"
    Received: "启动语音识别失败: 您的浏览器不支持语音识别功能"

      190 |     });
      191 |
    > 192 |     expect(result.current.error).toBe('您的浏览器不支持语音识别功能');
          |                                  ^
      193 |     expect(result.current.isRecording).toBe(false);
      194 |
      195 |     // 恢复API

      at Object.toBe (src/hooks/__tests__/useVoice.comprehensive.test.js:192:34)

  ● useVoice hook › should reset transcript when starting new recording

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: "第一次输入"

      243 |     });
      244 |
    > 245 |     expect(result.current.transcript).toBe('');
          |                                       ^
      246 |   });
      247 |
      248 |   it('should handle recording end event', async () => {

      at Object.toBe (src/hooks/__tests__/useVoice.comprehensive.test.js:245:39)

/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:201
    const startRecording = jest.fn().mockRejectedValue(new Error('麦克风权限被拒绝'));
                                                       ^

Error: 麦克风权限被拒绝
    at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:225:56)
    at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
    at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12)

Node.js v18.19.1
PASS src/components/common/__tests__/Button.test.jsx
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      10 | describe('Button component', () => {
      11 |   it('should have no accessibility violations', async () => {
    > 12 |     const { container } = render(<Button>测试按钮</Button>);
         |                                 ^
      13 |     const results = await axe(container);
      14 |     expect(results).toHaveNoViolations();
      15 |   });

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/common/__tests__/Button.test.jsx:12:33)

FAIL src/contexts/__tests__/SessionContext.comprehensive.test.jsx
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      11 | describe('useSession hook', () => {
      12 |   it('should initialize with default values', () => {
    > 13 |     const { result } = renderHook(() => useSession(), { wrapper });
         |                                  ^
      14 |     
      15 |     expect(result.current.state.sessionId).toBeNull();
      16 |     expect(result.current.state.stage).toBe('idle');

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at render (node_modules/@testing-library/react/dist/pure.js:293:7)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:13:34)

  ● useSession hook › should initialize with default values

    TypeError: Cannot read properties of undefined (reading 'sessionId')

      13 |     const { result } = renderHook(() => useSession(), { wrapper });
      14 |     
    > 15 |     expect(result.current.state.sessionId).toBeNull();
         |                                 ^
      16 |     expect(result.current.state.stage).toBe('idle');
      17 |     expect(result.current.state.statusMessage).toBeNull();
      18 |     expect(result.current.state.toolCalls).toBeNull();

      at Object.sessionId (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:15:33)

  ● useSession hook › should set session ID

    TypeError: result.current.dispatch is not a function

      27 |     
      28 |     act(() => {
    > 29 |       result.current.dispatch({
         |                      ^
      30 |         type: 'SET_SESSION_ID',
      31 |         payload: 'test-session-123'
      32 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:29:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:28:8)

  ● useSession hook › should set stage

    TypeError: result.current.dispatch is not a function

      40 |     
      41 |     act(() => {
    > 42 |       result.current.dispatch({
         |                      ^
      43 |         type: 'SET_STAGE',
      44 |         payload: 'recording'
      45 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:42:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:41:8)

  ● useSession hook › should set status message

    TypeError: result.current.dispatch is not a function

      53 |     
      54 |     act(() => {
    > 55 |       result.current.dispatch({
         |                      ^
      56 |         type: 'SET_STATUS_MESSAGE',
      57 |         payload: '正在录音...'
      58 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:55:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:54:8)

  ● useSession hook › should set tool calls

    TypeError: result.current.dispatch is not a function

      70 |     
      71 |     act(() => {
    > 72 |       result.current.dispatch({
         |                      ^
      73 |         type: 'SET_TOOL_CALLS',
      74 |         payload: toolCalls
      75 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:72:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:71:8)

  ● useSession hook › should set confirm text

    TypeError: result.current.dispatch is not a function

      83 |     
      84 |     act(() => {
    > 85 |       result.current.dispatch({
         |                      ^
      86 |         type: 'SET_CONFIRM_TEXT',
      87 |         payload: '您想查询上海的天气吗？'
      88 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:85:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:84:8)

  ● useSession hook › should set result

    TypeError: result.current.dispatch is not a function

      100 |     
      101 |     act(() => {
    > 102 |       result.current.dispatch({
          |                      ^
      103 |         type: 'SET_RESULT',
      104 |         payload: resultData
      105 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:102:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:101:8)

  ● useSession hook › should set error

    TypeError: result.current.dispatch is not a function

      113 |     
      114 |     act(() => {
    > 115 |       result.current.dispatch({
          |                      ^
      116 |         type: 'SET_ERROR',
      117 |         payload: '网络连接失败'
      118 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:115:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:114:8)

  ● useSession hook › should reset to initial state

    TypeError: result.current.dispatch is not a function

      127 |     // 先设置一些状态
      128 |     act(() => {
    > 129 |       result.current.dispatch({
          |                      ^
      130 |         type: 'SET_SESSION_ID',
      131 |         payload: 'test-session-123'
      132 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:129:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:128:8)

  ● useSession hook › should handle multiple state updates in sequence

    TypeError: result.current.dispatch is not a function

      164 |     act(() => {
      165 |       // 模拟完整的会话流程
    > 166 |       result.current.dispatch({
          |                      ^
      167 |         type: 'SET_SESSION_ID',
      168 |         payload: 'session-456'
      169 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:166:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:164:8)

  ● useSession hook › should throw error when used outside provider

    expect(received).toThrow(expected)

    Expected substring: "useSession 必须在 SessionProvider 内部使用"
    Received message:   "useSession must be used within a SessionProvider"

          88 |   const context = useContext(SessionContext);
          89 |   if (context === undefined) {
        > 90 |     throw new Error('useSession must be used within a SessionProvider');
             |           ^
          91 |   }
          92 |   return context;
          93 | }

      at useSession (src/contexts/SessionContext.jsx:90:11)
      at src/contexts/__tests__/SessionContext.comprehensive.test.jsx:204:34
      at renderCallback (node_modules/@testing-library/react/dist/pure.js:283:27)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at render (node_modules/@testing-library/react/dist/pure.js:293:7)
      at src/contexts/__tests__/SessionContext.comprehensive.test.jsx:204:17
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.toThrow (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:205:8)
      at Object.toThrow (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:205:8)

  ● SessionProvider › should provide session context to children

    TypeError: Cannot read properties of undefined (reading 'stage')

      213 |     const TestComponent = () => {
      214 |       const { state } = useSession();
    > 215 |       return <div data-testid="session-stage">{state.stage}</div>;
          |                                                      ^
      216 |     };
      217 |
      218 |     render(

      at stage (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:215:54)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:218:11)

  ● SessionProvider › should handle multiple children components

    TypeError: Cannot read properties of undefined (reading 'stage')

      228 |     const TestComponent1 = () => {
      229 |       const { state } = useSession();
    > 230 |       return <div data-testid="component1">{state.stage}</div>;
          |                                                   ^
      231 |     };
      232 |
      233 |     const TestComponent2 = () => {

      at stage (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:230:51)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:248:11)

FAIL src/__tests__/App.test.jsx
  ● Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      41 |
      42 |   it('should render app with router', () => {
    > 43 |     render(
         |           ^
      44 |       <MemoryRouter initialEntries={['/login']}>
      45 |         <App />
      46 |       </MemoryRouter>

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:43:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:43:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:43:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      41 |
      42 |   it('should render app with router', () => {
    > 43 |     render(
         |           ^
      44 |       <MemoryRouter initialEntries={['/login']}>
      45 |         <App />
      46 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:43:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:43:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:43:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      41 |
      42 |   it('should render app with router', () => {
    > 43 |     render(
         |           ^
      44 |       <MemoryRouter initialEntries={['/login']}>
      45 |         <App />
      46 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:43:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      41 |
      42 |   it('should render app with router', () => {
    > 43 |     render(
         |           ^
      44 |       <MemoryRouter initialEntries={['/login']}>
      45 |         <App />
      46 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:43:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:55:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:55:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      53 |     localStorageMock.getItem.mockReturnValue(null);
      54 |
    > 55 |     render(
         |           ^
      56 |       <MemoryRouter initialEntries={['/']}>
      57 |         <App />
      58 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:55:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:55:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:55:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      53 |     localStorageMock.getItem.mockReturnValue(null);
      54 |
    > 55 |     render(
         |           ^
      56 |       <MemoryRouter initialEntries={['/']}>
      57 |         <App />
      58 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:55:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      53 |     localStorageMock.getItem.mockReturnValue(null);
      54 |
    > 55 |     render(
         |           ^
      56 |       <MemoryRouter initialEntries={['/']}>
      57 |         <App />
      58 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:55:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:77:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:77:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      75 |     });
      76 |
    > 77 |     render(
         |           ^
      78 |       <MemoryRouter initialEntries={['/']}>
      79 |         <App />
      80 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:77:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:77:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:77:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      75 |     });
      76 |
    > 77 |     render(
         |           ^
      78 |       <MemoryRouter initialEntries={['/']}>
      79 |         <App />
      80 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:77:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      75 |     });
      76 |
    > 77 |     render(
         |           ^
      78 |       <MemoryRouter initialEntries={['/']}>
      79 |         <App />
      80 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:77:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:94:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:94:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      92 |     });
      93 |
    > 94 |     render(
         |           ^
      95 |       <MemoryRouter initialEntries={['/']}>
      96 |         <App />
      97 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:94:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:94:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:94:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      92 |     });
      93 |
    > 94 |     render(
         |           ^
      95 |       <MemoryRouter initialEntries={['/']}>
      96 |         <App />
      97 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:94:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      92 |     });
      93 |
    > 94 |     render(
         |           ^
      95 |       <MemoryRouter initialEntries={['/']}>
      96 |         <App />
      97 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:94:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:110:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:110:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      108 |     });
      109 |
    > 110 |     render(
          |           ^
      111 |       <MemoryRouter initialEntries={['/login']}>
      112 |         <App />
      113 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:110:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:110:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:110:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      108 |     });
      109 |
    > 110 |     render(
          |           ^
      111 |       <MemoryRouter initialEntries={['/login']}>
      112 |         <App />
      113 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:110:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      108 |     });
      109 |
    > 110 |     render(
          |           ^
      111 |       <MemoryRouter initialEntries={['/login']}>
      112 |         <App />
      113 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:110:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:121:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:121:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      119 |
      120 |   it('should provide session context', () => {
    > 121 |     render(
          |           ^
      122 |       <MemoryRouter initialEntries={['/login']}>
      123 |         <App />
      124 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:121:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:121:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:121:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      119 |
      120 |   it('should provide session context', () => {
    > 121 |     render(
          |           ^
      122 |       <MemoryRouter initialEntries={['/login']}>
      123 |         <App />
      124 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:121:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      119 |
      120 |   it('should provide session context', () => {
    > 121 |     render(
          |           ^
      122 |       <MemoryRouter initialEntries={['/login']}>
      123 |         <App />
      124 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:121:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:132:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:132:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      130 |
      131 |   it('should provide auth context', () => {
    > 132 |     render(
          |           ^
      133 |       <MemoryRouter initialEntries={['/login']}>
      134 |         <App />
      135 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:132:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:132:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:132:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      130 |
      131 |   it('should provide auth context', () => {
    > 132 |     render(
          |           ^
      133 |       <MemoryRouter initialEntries={['/login']}>
      134 |         <App />
      135 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:132:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      130 |
      131 |   it('should provide auth context', () => {
    > 132 |     render(
          |           ^
      133 |       <MemoryRouter initialEntries={['/login']}>
      134 |         <App />
      135 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:132:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:143:32)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:143:32)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      141 |
      142 |   it('should handle route navigation', () => {
    > 143 |     const { rerender } = render(
          |                                ^
      144 |       <MemoryRouter initialEntries={['/login']}>
      145 |         <App />
      146 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:143:32)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:143:32)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:143:32)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      141 |
      142 |   it('should handle route navigation', () => {
    > 143 |     const { rerender } = render(
          |                                ^
      144 |       <MemoryRouter initialEntries={['/login']}>
      145 |         <App />
      146 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:143:32)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      141 |
      142 |   it('should handle route navigation', () => {
    > 143 |     const { rerender } = render(
          |                                ^
      144 |       <MemoryRouter initialEntries={['/login']}>
      145 |         <App />
      146 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:143:32)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:175:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:175:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      173 |     localStorageMock.getItem.mockReturnValue(null);
      174 |
    > 175 |     render(
          |           ^
      176 |       <MemoryRouter initialEntries={['/']}>
      177 |         <App />
      178 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:175:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:175:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:175:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      173 |     localStorageMock.getItem.mockReturnValue(null);
      174 |
    > 175 |     render(
          |           ^
      176 |       <MemoryRouter initialEntries={['/']}>
      177 |         <App />
      178 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:175:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      173 |     localStorageMock.getItem.mockReturnValue(null);
      174 |
    > 175 |     render(
          |           ^
      176 |       <MemoryRouter initialEntries={['/']}>
      177 |         <App />
      178 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:175:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:191:32)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:191:32)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      189 |     });
      190 |
    > 191 |     const { rerender } = render(
          |                                ^
      192 |       <MemoryRouter initialEntries={['/login']}>
      193 |         <App />
      194 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:191:32)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:191:32)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:191:32)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      189 |     });
      190 |
    > 191 |     const { rerender } = render(
          |                                ^
      192 |       <MemoryRouter initialEntries={['/login']}>
      193 |         <App />
      194 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:191:32)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      189 |     });
      190 |
    > 191 |     const { rerender } = render(
          |                                ^
      192 |       <MemoryRouter initialEntries={['/login']}>
      193 |         <App />
      194 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:191:32)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:220:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:220:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      218 |     });
      219 |
    > 220 |     render(
          |           ^
      221 |       <MemoryRouter initialEntries={['/']}>
      222 |         <App />
      223 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:220:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:220:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:220:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      218 |     });
      219 |
    > 220 |     render(
          |           ^
      221 |       <MemoryRouter initialEntries={['/']}>
      222 |         <App />
      223 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:220:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      218 |     });
      219 |
    > 220 |     render(
          |           ^
      221 |       <MemoryRouter initialEntries={['/']}>
      222 |         <App />
      223 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:220:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:233:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:233:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      231 |
      232 |   it('should handle invalid routes', () => {
    > 233 |     render(
          |           ^
      234 |       <MemoryRouter initialEntries={['/invalid-route']}>
      235 |         <App />
      236 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:233:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:233:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:233:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      231 |
      232 |   it('should handle invalid routes', () => {
    > 233 |     render(
          |           ^
      234 |       <MemoryRouter initialEntries={['/invalid-route']}>
      235 |         <App />
      236 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:233:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      231 |
      232 |   it('should handle invalid routes', () => {
    > 233 |     render(
          |           ^
      234 |       <MemoryRouter initialEntries={['/invalid-route']}>
      235 |         <App />
      236 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:233:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:244:33)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:244:33)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      242 |
      243 |   it('should have no accessibility violations', async () => {
    > 244 |     const { container } = render(
          |                                 ^
      245 |       <MemoryRouter initialEntries={['/login']}>
      246 |         <App />
      247 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:244:33)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:244:33)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:244:33)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      242 |
      243 |   it('should have no accessibility violations', async () => {
    > 244 |     const { container } = render(
          |                                 ^
      245 |       <MemoryRouter initialEntries={['/login']}>
      246 |         <App />
      247 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:244:33)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      242 |
      243 |   it('should have no accessibility violations', async () => {
    > 244 |     const { container } = render(
          |                                 ^
      245 |       <MemoryRouter initialEntries={['/login']}>
      246 |         <App />
      247 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:244:33)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:255:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:255:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      253 |
      254 |   it('should apply global CSS styles', () => {
    > 255 |     render(
          |           ^
      256 |       <MemoryRouter initialEntries={['/login']}>
      257 |         <App />
      258 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:255:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:255:11)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:255:11)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      253 |
      254 |   it('should apply global CSS styles', () => {
    > 255 |     render(
          |           ^
      256 |       <MemoryRouter initialEntries={['/login']}>
      257 |         <App />
      258 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:255:11)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      253 |
      254 |   it('should apply global CSS styles', () => {
    > 255 |     render(
          |           ^
      256 |       <MemoryRouter initialEntries={['/login']}>
      257 |         <App />
      258 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:255:11)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:267:32)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:267:32)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      265 |
      266 |   it('should handle browser back/forward navigation', () => {
    > 267 |     const { rerender } = render(
          |                                ^
      268 |       <MemoryRouter initialEntries={['/login', '/']}>
      269 |         <App />
      270 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:267:32)

    console.error
      Error: Uncaught [Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.]
          at reportException (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
          at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
          at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
          at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
          at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
          at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:267:32)
          at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
          at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
          at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12) {
        detail: Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
            at Object.invariant [as UNSAFE_invariant] (/home/nanchang/SolanaEarphone/node_modules/@remix-run/router/history.ts:494:11)
            at UNSAFE_invariant (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:429:3)
            at Component (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at renderWithHooks (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at mountIndeterminateComponent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.dispatchEvent (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at apply (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at invokeGuardedCallback (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at beginWork$1 (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at performUnitOfWork (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at workLoopSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at renderRootSync (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at recoverFromConcurrentError (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at callback (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2667:24)
            at flushActQueue (/home/nanchang/SolanaEarphone/node_modules/react/cjs/react.development.js:2582:11)
            at reactAct (/home/nanchang/SolanaEarphone/node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
            at actImplementation (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/act-compat.js:63:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:159:25)
            at renderRoot (/home/nanchang/SolanaEarphone/node_modules/@testing-library/react/dist/pure.js:246:10)
            at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/__tests__/App.test.jsx:267:32)
            at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
            at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:95:5)
            at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
            at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
            at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
            at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
            at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
            at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
            at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
            at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12),
        type: 'unhandled exception'
      }

      265 |
      266 |   it('should handle browser back/forward navigation', () => {
    > 267 |     const { rerender } = render(
          |                                ^
      268 |       <MemoryRouter initialEntries={['/login', '/']}>
      269 |         <App />
      270 |       </MemoryRouter>

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:65:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at apply (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:267:32)

    console.error
      The above error occurred in the <Router> component:
      
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router-dom/index.tsx:789:3)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at App
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      265 |
      266 |   it('should handle browser back/forward navigation', () => {
    > 267 |     const { rerender } = render(
          |                                ^
      268 |       <MemoryRouter initialEntries={['/login', '/']}>
      269 |         <App />
      270 |       </MemoryRouter>

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at call (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:267:32)

  ● App component › should render app with router

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      41 |
      42 |   it('should render app with router', () => {
    > 43 |     render(
         |           ^
      44 |       <MemoryRouter initialEntries={['/login']}>
      45 |         <App />
      46 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:43:11)

  ● App component › should redirect to login when not authenticated

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      53 |     localStorageMock.getItem.mockReturnValue(null);
      54 |
    > 55 |     render(
         |           ^
      56 |       <MemoryRouter initialEntries={['/']}>
      57 |         <App />
      58 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:55:11)

  ● App component › should show main page when authenticated

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      75 |     });
      76 |
    > 77 |     render(
         |           ^
      78 |       <MemoryRouter initialEntries={['/']}>
      79 |         <App />
      80 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:77:11)

  ● App component › should show loading state during authentication check

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      92 |     });
      93 |
    > 94 |     render(
         |           ^
      95 |       <MemoryRouter initialEntries={['/']}>
      96 |         <App />
      97 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:94:11)

  ● App component › should provide theme context

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      108 |     });
      109 |
    > 110 |     render(
          |           ^
      111 |       <MemoryRouter initialEntries={['/login']}>
      112 |         <App />
      113 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:110:11)

  ● App component › should provide session context

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      119 |
      120 |   it('should provide session context', () => {
    > 121 |     render(
          |           ^
      122 |       <MemoryRouter initialEntries={['/login']}>
      123 |         <App />
      124 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:121:11)

  ● App component › should provide auth context

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      130 |
      131 |   it('should provide auth context', () => {
    > 132 |     render(
          |           ^
      133 |       <MemoryRouter initialEntries={['/login']}>
      134 |         <App />
      135 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:132:11)

  ● App component › should handle route navigation

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      141 |
      142 |   it('should handle route navigation', () => {
    > 143 |     const { rerender } = render(
          |                                ^
      144 |       <MemoryRouter initialEntries={['/login']}>
      145 |         <App />
      146 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:143:32)

  ● App component › should handle protected route access

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      173 |     localStorageMock.getItem.mockReturnValue(null);
      174 |
    > 175 |     render(
          |           ^
      176 |       <MemoryRouter initialEntries={['/']}>
      177 |         <App />
      178 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:175:11)

  ● App component › should maintain theme consistency across routes

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      189 |     });
      190 |
    > 191 |     const { rerender } = render(
          |                                ^
      192 |       <MemoryRouter initialEntries={['/login']}>
      193 |         <App />
      194 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:191:32)

  ● App component › should restore authentication state on page refresh

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      218 |     });
      219 |
    > 220 |     render(
          |           ^
      221 |       <MemoryRouter initialEntries={['/']}>
      222 |         <App />
      223 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:220:11)

  ● App component › should handle invalid routes

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      231 |
      232 |   it('should handle invalid routes', () => {
    > 233 |     render(
          |           ^
      234 |       <MemoryRouter initialEntries={['/invalid-route']}>
      235 |         <App />
      236 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:233:11)

  ● App component › should have no accessibility violations

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      242 |
      243 |   it('should have no accessibility violations', async () => {
    > 244 |     const { container } = render(
          |                                 ^
      245 |       <MemoryRouter initialEntries={['/login']}>
      246 |         <App />
      247 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:244:33)

  ● App component › should apply global CSS styles

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      253 |
      254 |   it('should apply global CSS styles', () => {
    > 255 |     render(
          |           ^
      256 |       <MemoryRouter initialEntries={['/login']}>
      257 |         <App />
      258 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:255:11)

  ● App component › should handle browser back/forward navigation

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      265 |
      266 |   it('should handle browser back/forward navigation', () => {
    > 267 |     const { rerender } = render(
          |                                ^
      268 |       <MemoryRouter initialEntries={['/login', '/']}>
      269 |         <App />
      270 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:267:32)

  ● App component › should handle context provider errors gracefully

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      279 |     const consoleSpy = jest.spyOn(console, 'error').mockImplementation(() => {});
      280 |
    > 281 |     render(
          |           ^
      282 |       <MemoryRouter initialEntries={['/login']}>
      283 |         <App />
      284 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:281:11)

  ● App component › should support deep linking

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      301 |     });
      302 |
    > 303 |     render(
          |           ^
      304 |       <MemoryRouter initialEntries={['/']}>
      305 |         <App />
      306 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:303:11)

  ● App component › should handle logout and redirect

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      321 |     });
      322 |
    > 323 |     const { rerender } = render(
          |                                ^
      324 |       <MemoryRouter initialEntries={['/']}>
      325 |         <App />
      326 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:323:32)

  ● App component › should handle different user roles

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      352 |     });
      353 |
    > 354 |     render(
          |           ^
      355 |       <MemoryRouter initialEntries={['/']}>
      356 |         <App />
      357 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:354:11)

  ● App component › should handle session timeout

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      370 |     });
      371 |
    > 372 |     render(
          |           ^
      373 |       <MemoryRouter initialEntries={['/']}>
      374 |         <App />
      375 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:372:11)

  ● App component › should preserve route state during authentication

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      381 |
      382 |   it('should preserve route state during authentication', () => {
    > 383 |     render(
          |           ^
      384 |       <MemoryRouter initialEntries={['/some-protected-route']}>
      385 |         <App />
      386 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:383:11)

PASS src/components/VoiceRecorder/__tests__/VoiceRecorder.test.jsx
  ● Console

    console.error
      [antd-mobile: Global] The px tester is not rendering properly. Please make sure you have imported `antd-mobile/es/global`.

      1 | import React from 'react';
    > 2 | import { Button } from 'antd-mobile';
        | ^
      3 | import { useVoice } from '../../hooks/useVoice';
      4 | import { useSession } from '../../contexts/SessionContext';
      5 | import styles from './VoiceRecorder.module.css';

      at error (node_modules/antd-mobile/cjs/utils/dev-log.js:17:13)
      at Object.<anonymous> (node_modules/antd-mobile/cjs/utils/convert-px.js:22:27)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover.js:12:18)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover-menu.js:9:16)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/index.js:10:21)
      at Object.require (node_modules/antd-mobile/cjs/components/form/form-item.js:19:39)
      at Object.require (node_modules/antd-mobile/cjs/components/form/index.js:10:17)
      at Object.require (node_modules/antd-mobile/cjs/index.js:565:36)
      at Object.require (src/components/VoiceRecorder/VoiceRecorder.jsx:2:1)
      at Object.require (src/components/VoiceRecorder/__tests__/VoiceRecorder.test.jsx:4:1)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      24 |
      25 |   it('should render the recorder button', () => {
    > 26 |     render(
         |           ^
      27 |       <SessionProvider>
      28 |         <VoiceRecorder />
      29 |       </SessionProvider>

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/VoiceRecorder/__tests__/VoiceRecorder.test.jsx:26:11)

    console.error
      Warning: An update to ForwardRef inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at /home/nanchang/SolanaEarphone/node_modules/antd-mobile/cjs/components/button/button.js:32:62
          at div
          at onTranscript (/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/VoiceRecorder.jsx:7:26)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)

      at call (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at error (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInnerLoading (node_modules/antd-mobile/cjs/components/button/button.js:48:9)
      at next (node_modules/tslib/tslib.js:167:62)

PASS src/components/StatusBar/__tests__/StatusBar.test.jsx
  ● Console

    console.error
      [antd-mobile: Global] The px tester is not rendering properly. Please make sure you have imported `antd-mobile/es/global`.

      1 | import React from 'react';
    > 2 | import { ProgressBar } from 'antd-mobile';
        | ^
      3 | import 'antd-mobile/es/global';
      4 | import { useSession } from '../../contexts/SessionContext';
      5 | import styles from './StatusBar.module.css';

      at error (node_modules/antd-mobile/cjs/utils/dev-log.js:17:13)
      at Object.<anonymous> (node_modules/antd-mobile/cjs/utils/convert-px.js:22:27)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover.js:12:18)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover-menu.js:9:16)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/index.js:10:21)
      at Object.require (node_modules/antd-mobile/cjs/components/form/form-item.js:19:39)
      at Object.require (node_modules/antd-mobile/cjs/components/form/index.js:10:17)
      at Object.require (node_modules/antd-mobile/cjs/index.js:565:36)
      at Object.require (src/components/StatusBar/StatusBar.jsx:2:1)
      at Object.require (src/components/StatusBar/__tests__/StatusBar.test.jsx:5:1)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      34 |
      35 |   it('should render status bar', () => {
    > 36 |     render(<StatusBar />);
         |           ^
      37 |     
      38 |     const statusBar = screen.getByRole('status');
      39 |     expect(statusBar).toBeInTheDocument();

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/StatusBar/__tests__/StatusBar.test.jsx:36:11)

FAIL src/components/Layout/__tests__/AppLayout.test.jsx
  ● Console

    console.error
      [antd-mobile: Global] The px tester is not rendering properly. Please make sure you have imported `antd-mobile/es/global`.

      1 | import React from 'react';
    > 2 | import { Switch } from 'antd-mobile';
        | ^
      3 | import { useTheme, THEMES } from '../contexts/ThemeContext';
      4 | import styles from './ThemeToggle.module.css';
      5 |

      at error (node_modules/antd-mobile/cjs/utils/dev-log.js:17:13)
      at Object.<anonymous> (node_modules/antd-mobile/cjs/utils/convert-px.js:22:27)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover.js:12:18)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover-menu.js:9:16)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/index.js:10:21)
      at Object.require (node_modules/antd-mobile/cjs/components/form/form-item.js:19:39)
      at Object.require (node_modules/antd-mobile/cjs/components/form/index.js:10:17)
      at Object.require (node_modules/antd-mobile/cjs/index.js:565:36)
      at Object.require (src/components/ThemeToggle.jsx:2:1)
      at Object.require (src/components/Layout/AppLayout.jsx:4:1)
      at Object.require (src/components/Layout/__tests__/AppLayout.test.jsx:6:1)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      28 |
      29 |   it('should render layout structure', () => {
    > 30 |     render(
         |           ^
      31 |       <ThemeProvider>
      32 |         <SessionProvider>
      33 |           <AppLayout>

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/Layout/__tests__/AppLayout.test.jsx:30:11)

    console.error
      Warning: Failed prop type: The prop `children` is marked as required in `AppLayout`, but its value is `null`.
          at children (/home/nanchang/SolanaEarphone/src/components/Layout/AppLayout.jsx:10:22)

      152 |       <ThemeProvider>
      153 |         <SessionProvider>
    > 154 |           <AppLayout>
          |           ^
      155 |             {null}
      156 |           </AppLayout>
      157 |         </SessionProvider>

      at call (node_modules/react/cjs/react-jsx-runtime.development.js:87:30)
      at printWarning (node_modules/react/cjs/react-jsx-runtime.development.js:61:7)
      at error (node_modules/react/cjs/react-jsx-runtime.development.js:631:11)
      at checkPropTypes (node_modules/react/cjs/react-jsx-runtime.development.js:1164:7)
      at validatePropTypes (node_modules/react/cjs/react-jsx-runtime.development.js:1303:7)
      at jsxWithValidation (node_modules/react/cjs/react-jsx-runtime.development.js:1320:12)
      at Object.<anonymous> (src/components/Layout/__tests__/AppLayout.test.jsx:154:11)

  ● AppLayout component › should apply theme classes

    expect(received).toBe(expected) // Object.is equality

    Expected: "dark"
    Received: "light"

      84 |
      85 |     // 检查默认dark主题
    > 86 |     expect(document.documentElement.getAttribute('data-theme')).toBe('dark');
         |                                                                 ^
      87 |
      88 |     // 模拟切换到light主题
      89 |     localStorageMock.getItem.mockReturnValue('light');

      at Object.toBe (src/components/Layout/__tests__/AppLayout.test.jsx:86:65)

FAIL src/pages/user/__tests__/LoginPage.test.jsx
  ● Console

    console.error
      [antd-mobile: Global] The px tester is not rendering properly. Please make sure you have imported `antd-mobile/es/global`.

      22 | // 模拟Toast
      23 | jest.mock('antd-mobile', () => ({
    > 24 |   ...jest.requireActual('antd-mobile'),
         |           ^
      25 |   Toast: {
      26 |     show: jest.fn(),
      27 |   },

      at error (node_modules/antd-mobile/cjs/utils/dev-log.js:17:13)
      at Object.<anonymous> (node_modules/antd-mobile/cjs/utils/convert-px.js:22:27)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover.js:12:18)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover-menu.js:9:16)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/index.js:10:21)
      at Object.require (node_modules/antd-mobile/cjs/components/form/form-item.js:19:39)
      at Object.require (node_modules/antd-mobile/cjs/components/form/index.js:10:17)
      at Object.require (node_modules/antd-mobile/cjs/index.js:565:36)
      at requireActual (src/pages/user/__tests__/LoginPage.test.jsx:24:11)
      at Object.require (src/pages/user/LoginPage.jsx:2:1)
      at Object.require (src/pages/user/__tests__/LoginPage.test.jsx:7:1)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      57 |
      58 |   it('should render login form', () => {
    > 59 |     render(
         |           ^
      60 |       <TestWrapper>
      61 |         <LoginPage />
      62 |       </TestWrapper>

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/pages/user/__tests__/LoginPage.test.jsx:59:11)

    console.warn
      ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

      57 |
      58 |   it('should render login form', () => {
    > 59 |     render(
         |           ^
      60 |       <TestWrapper>
      61 |         <LoginPage />
      62 |       </TestWrapper>

      at warn (node_modules/react-router/lib/deprecations.ts:9:13)
      at warnOnce (node_modules/react-router/lib/deprecations.ts:14:3)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:26:5)
      at logV6DeprecationWarnings (node_modules/react-router/lib/components.tsx:257:25)
      at create (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/pages/user/__tests__/LoginPage.test.jsx:59:11)

    console.warn
      ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

      57 |
      58 |   it('should render login form', () => {
    > 59 |     render(
         |           ^
      60 |       <TestWrapper>
      61 |         <LoginPage />
      62 |       </TestWrapper>

      at warn (node_modules/react-router/lib/deprecations.ts:9:13)
      at warnOnce (node_modules/react-router/lib/deprecations.ts:14:3)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:37:5)
      at logV6DeprecationWarnings (node_modules/react-router/lib/components.tsx:257:25)
      at create (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/pages/user/__tests__/LoginPage.test.jsx:59:11)

  ● LoginPage component › should validate password length

    The given element does not have a value setter

       96 |     const passwordInput = screen.getByTestId('password-input');
       97 |     
    >  98 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
       99 |     fireEvent.change(passwordInput, { target: { value: '123' } });
      100 |     
      101 |     fireEvent.blur(passwordInput);

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:98:15)

  ● LoginPage component › should handle successful login

    The given element does not have a value setter

      127 |
      128 |     // 填写表单
    > 129 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      130 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      131 |     
      132 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:129:15)

  ● LoginPage component › should handle login failure

    The given element does not have a value setter

      155 |
      156 |     // 填写表单
    > 157 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      158 |     fireEvent.change(passwordInput, { target: { value: 'wrongpassword' } });
      159 |     
      160 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:157:15)

  ● LoginPage component › should show loading state during login

    The given element does not have a value setter

      188 |
      189 |     // 填写表单
    > 190 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      191 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      192 |     
      193 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:190:15)

  ● LoginPage component › should handle network errors

    The given element does not have a value setter

      226 |
      227 |     // 填写表单
    > 228 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      229 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      230 |     
      231 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:228:15)

  ● LoginPage component › should have proper form accessibility

    expect(element).toHaveAccessibleName()

    Expected element to have accessible name:
      undefined
    Received:

      251 |     
      252 |     // 检查标签关联
    > 253 |     expect(usernameInput).toHaveAccessibleName();
          |                           ^
      254 |     expect(passwordInput).toHaveAccessibleName();
      255 |     
      256 |     // 检查必填字段标识

      at Object.toHaveAccessibleName (src/pages/user/__tests__/LoginPage.test.jsx:253:27)

  ● LoginPage component › should be keyboard navigable

    expect(received).toBe(expected) // Object.is equality

    - Expected  -   0
    + Received  + 161

    + <body>
    +   <div
    +     class="adm-px-tester"
    +     style="--size: 10;"
    +   />
    +   <div
    +     class="adm-px-tester"
    +   />
    +   <div>
    +     <div
    +       class="loginPage"
    +     >
    +       <div
    +         class="container"
    +       >
    +         <div
    +           class="header"
    +         >
    +           <h1>
    +             Solana Earphone
    +           </h1>
    +           <p>
    +             语音智能助手
    +           </p>
    +         </div>
    +         <div
    +           class="adm-card loginCard"
    +         >
    +           <div
    +             class="adm-card-body"
    +           >
    +             <form
    +               class="adm-form"
    +             >
    +               <div
    +                 class="adm-list adm-list-default"
    +               >
    +                 <div
    +                   class="adm-list-body"
    +                 >
    +                   <div
    +                     class="adm-list-body-inner"
    +                   >
                          <div
    +                       class="adm-list-item adm-form-item adm-form-item-vertical"
    +                     >
    +                       <div
    +                         class="adm-list-item-content"
    +                       >
    +                         <div
    +                           class="adm-list-item-content-main"
    +                         >
    +                           <div
    +                             class="adm-list-item-title"
    +                           >
    +                             <label
    +                               class="adm-form-item-label"
    +                               for="username"
    +                             >
    +                               用户名
    +                               <span
    +                                 class="adm-form-item-required-asterisk"
    +                               >
    +                                 *
    +                               </span>
    +                             </label>
    +                           </div>
    +                           <div
    +                             class="adm-form-item-child adm-form-item-child-position-normal"
    +                           >
    +                             <div
    +                               class="adm-form-item-child-inner"
    +                             >
    +                               <div
                                      class="adm-input"
                                      data-testid="username-input"
                                    >
                                      <input
                                        class="adm-input-element"
                                        id="username"
                                        placeholder="请输入用户名"
                                        value=""
                                      />
    +                               </div>
    +                             </div>
    +                           </div>
    +                           <div
    +                             class="adm-list-item-description"
    +                           />
    +                         </div>
                            </div>
    +                     </div>
    +                     <div
    +                       class="adm-list-item adm-form-item adm-form-item-vertical"
    +                     >
    +                       <div
    +                         class="adm-list-item-content"
    +                       >
    +                         <div
    +                           class="adm-list-item-content-main"
    +                         >
    +                           <div
    +                             class="adm-list-item-title"
    +                           >
    +                             <label
    +                               class="adm-form-item-label"
    +                               for="password"
    +                             >
    +                               密码
    +                               <span
    +                                 class="adm-form-item-required-asterisk"
    +                               >
    +                                 *
    +                               </span>
    +                             </label>
    +                           </div>
    +                           <div
    +                             class="adm-form-item-child adm-form-item-child-position-normal"
    +                           >
    +                             <div
    +                               class="adm-form-item-child-inner"
    +                             >
    +                               <div
    +                                 class="adm-input"
    +                                 data-testid="password-input"
    +                               >
    +                                 <input
    +                                   class="adm-input-element"
    +                                   id="password"
    +                                   placeholder="请输入密码"
    +                                   type="password"
    +                                   value=""
    +                                 />
    +                               </div>
    +                             </div>
    +                           </div>
    +                           <div
    +                             class="adm-list-item-description"
    +                           />
    +                         </div>
    +                       </div>
    +                     </div>
    +                   </div>
    +                 </div>
    +               </div>
    +               <div
    +                 class="adm-form-footer"
    +               >
    +                 <button
    +                   class="adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default"
    +                   data-testid="login-button"
    +                   type="submit"
    +                 >
    +                   <span>
    +                     登录
    +                   </span>
    +                 </button>
    +               </div>
    +             </form>
    +           </div>
    +         </div>
    +         <div
    +           class="footer"
    +         >
    +           <p>
    +             首次使用？请联系管理员获取账号
    +           </p>
    +         </div>
    +       </div>
    +     </div>
    +   </div>
    + </body>

      272 |     // 测试Tab键导航
      273 |     usernameInput.focus();
    > 274 |     expect(document.activeElement).toBe(usernameInput);
          |                                    ^
      275 |     
      276 |     fireEvent.keyDown(usernameInput, { key: 'Tab' });
      277 |     expect(document.activeElement).toBe(passwordInput);

      at Object.toBe (src/pages/user/__tests__/LoginPage.test.jsx:274:36)

  ● LoginPage component › should support Enter key submission

    The given element does not have a value setter

      301 |
      302 |     // 填写表单
    > 303 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      304 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      305 |     
      306 |     // 在密码字段按Enter键

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:303:15)

  ● LoginPage component › should be responsive on mobile devices

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Solana Earphone":
      [36m<h1 />[39m

      --------------------------------------------------
      textbox:

      Name "用户名 *":
      [36m<input[39m
        [33mclass[39m=[32m"adm-input-element"[39m
        [33mid[39m=[32m"username"[39m
        [33mplaceholder[39m=[32m"请输入用户名"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "登录":
      [36m<button[39m
        [33mclass[39m=[32m"adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default"[39m
        [33mdata-testid[39m=[32m"login-button"[39m
        [33mtype[39m=[32m"submit"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"loginPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"adm-card loginCard"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-card-body"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"adm-form"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-list adm-list-default"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-list-body"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"adm-list-body-inner"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"adm-list-item adm-form-item adm-form-item-vertical"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"adm-list-item-content"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"adm-list-item-content-main"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-title"[39m
                              [36m>[39m
                                [36m<label[39m
                                  [33mclass[39m=[32m"adm-form-item-label"[39m
                                  [33mfor[39m=[32m"username"[39m
                                [36m>[39m
                                  [0m用户名[0m
                                  [36m<span[39m
                                    [33mclass[39m=[32m"adm-form-item-required-asterisk"[39m
                                  [36m>[39m
                                    [0m*[0m
                                  [36m</span>[39m
                                [36m</label>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-form-item-child adm-form-item-child-position-normal"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"adm-form-item-child-inner"[39m
                                [36m>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"adm-input"[39m
                                    [33mdata-testid[39m=[32m"username-input"[39m
                                  [36m>[39m
                                    [36m<input[39m
                                      [33mclass[39m=[32m"adm-input-element"[39m
                                      [33mid[39m=[32m"username"[39m
                                      [33mplaceholder[39m=[32m"请输入用户名"[39m
                                      [33mvalue[39m=[32m""[39m
                                    [36m/>[39m
                                  [36m</div>[39m
                                [36m</div>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-description"[39m
                              [36m/>[39m
                            [36m</div>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"adm-list-item adm-form-item adm-form-item-vertical"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"adm-list-item-content"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"adm-list-item-content-main"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-title"[39m
                              [36m>[39m
                                [36m<label[39m
                                  [33mclass[39m=[32m"adm-form-item-label"[39m
                                  [33mfor[39m=[32m"password"[39m
                                [36m>[39m
                                  [0m密码[0m
                                  [36m<span[39m
                                    [33mclass[39m=[32m"adm-form-item-required-asterisk"[39m
                                  [36m>[39m
                                    [0m*[0m
                                  [36m</span>[39m
                                [36m</label>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-form-item-child adm-form-item-child-position-normal"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"adm-form-item-child-inner"[39m
                                [36m>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"adm-input"[39m
                                    [33mdata-testid[39m=[32m"password-input"[39m
                                  [36m>[39m
                                    [36m<input[39m
                                      [33mclass[39m=[32m"adm-input-element"[39m
                                      [33mid[39m=[32m"password"[39m
                                      [33mplaceholder[39m=[32m"请输入密码"[39m
                                      [33mtype[39m=[32m"password"[39m
                                      [33mvalue[39m=[32m""[39m
                                    [36m/>[39m
                                  [36m</div>[39m
                                [36m</div>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-description"[39m
                              [36m/>[39m
                            [36m</div>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-form-footer"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default"[39m
                      [33mdata-testid[39m=[32m"login-button"[39m
                      [33mtype[39m=[32m"submit"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0m登录[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"footer"[39m
            [36m>[39m
              [36m<p>[39m
                [0m首次使用？请联系管理员获取账号[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      347 |     );
      348 |
    > 349 |     const container = screen.getByRole('main').parentElement;
          |                              ^
      350 |     expect(container).toHaveClass('loginPage');
      351 |   });
      352 |

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByRole (src/pages/user/__tests__/LoginPage.test.jsx:349:30)

  ● LoginPage component › should handle form input focus states

    expect(element).toHaveFocus()

    Expected element with focus:
      <div class="adm-input" data-testid="username-input"><input class="adm-input-element" id="username" placeholder="请输入用户名" value="" /></div>
    Received element with focus:
      <body><div class="adm-px-tester" style="--size: 10;" /><div class="adm-px-tester" /><div><div class="loginPage"><div class="container"><div class="header"><h1>Solana Earphone</h1><p>语音智能助手</p></div><div class="adm-card loginCard"><div class="adm-card-body"><form class="adm-form"><div class="adm-list adm-list-default"><div class="adm-list-body"><div class="adm-list-body-inner"><div … /><div … /></div></div></div><div class="adm-form-footer"><button class="adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default" data-testid="login-button" type="submit"><span>登录</span></button></div></form></div></div><div class="footer"><p>首次使用？请联系管理员获取账号</p></div></div></div></div></body>

      361 |     
      362 |     fireEvent.focus(usernameInput);
    > 363 |     expect(usernameInput).toHaveFocus();
          |                           ^
      364 |     
      365 |     fireEvent.blur(usernameInput);
      366 |     expect(usernameInput).not.toHaveFocus();

      at Object.toHaveFocus (src/pages/user/__tests__/LoginPage.test.jsx:363:27)

  ● LoginPage component › should maintain form state during typing

    The given element does not have a value setter

      378 |
      379 |     // 输入用户名
    > 380 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      381 |     expect(usernameInput).toHaveValue('testuser');
      382 |
      383 |     // 输入密码

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:380:15)

/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:201
    const startRecording = jest.fn().mockRejectedValue(new Error('麦克风权限被拒绝'));
                                                       ^

Error: 麦克风权限被拒绝
    at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:225:56)
    at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
    at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12)

Node.js v18.19.1
/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:201
    const startRecording = jest.fn().mockRejectedValue(new Error('麦克风权限被拒绝'));
                                                       ^

Error: 麦克风权限被拒绝
    at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:225:56)
    at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
    at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12)

Node.js v18.19.1
/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:201
    const startRecording = jest.fn().mockRejectedValue(new Error('麦克风权限被拒绝'));
                                                       ^

Error: 麦克风权限被拒绝
    at Object.<anonymous> (/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx:225:56)
    at Promise.then.completed (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at _runTest (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/nanchang/SolanaEarphone/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:74:19)
    at runTestInternal (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/home/nanchang/SolanaEarphone/node_modules/jest-runner/build/testWorker.js:106:12)

Node.js v18.19.1
FAIL src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx
  ● Test suite failed to run

    Jest worker encountered 4 child process exceptions, exceeding retry limit

      at ChildProcessWorker.initialize (node_modules/jest-worker/build/workers/ChildProcessWorker.js:181:21)

FAIL src/pages/MainPage/__tests__/MainPage.test.jsx (10.044 s)
  ● Console

    console.error
      [antd-mobile: Global] The px tester is not rendering properly. Please make sure you have imported `antd-mobile/es/global`.

      1 | import React, { useCallback } from 'react';
    > 2 | import { Card, Button, Space } from 'antd-mobile';
        | ^
      3 | import VoiceRecorder from '../../components/VoiceRecorder/VoiceRecorder';
      4 | import StatusBar from '../../components/StatusBar/StatusBar';
      5 | import { useSession } from '../../contexts/SessionContext';

      at error (node_modules/antd-mobile/cjs/utils/dev-log.js:17:13)
      at Object.<anonymous> (node_modules/antd-mobile/cjs/utils/convert-px.js:22:27)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover.js:12:18)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/popover-menu.js:9:16)
      at Object.require (node_modules/antd-mobile/cjs/components/popover/index.js:10:21)
      at Object.require (node_modules/antd-mobile/cjs/components/form/form-item.js:19:39)
      at Object.require (node_modules/antd-mobile/cjs/components/form/index.js:10:17)
      at Object.require (node_modules/antd-mobile/cjs/index.js:565:36)
      at Object.require (src/pages/MainPage/MainPage.jsx:2:1)
      at Object.require (src/pages/MainPage/__tests__/MainPage.test.jsx:8:1)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      79 |
      80 |   it('should render main page layout', () => {
    > 81 |     render(
         |           ^
      82 |       <TestWrapper>
      83 |         <MainPage />
      84 |       </TestWrapper>

      at call (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:81:11)

    console.warn
      ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

      79 |
      80 |   it('should render main page layout', () => {
    > 81 |     render(
         |           ^
      82 |       <TestWrapper>
      83 |         <MainPage />
      84 |       </TestWrapper>

      at warn (node_modules/react-router/lib/deprecations.ts:9:13)
      at warnOnce (node_modules/react-router/lib/deprecations.ts:14:3)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:26:5)
      at logV6DeprecationWarnings (node_modules/react-router/lib/components.tsx:257:25)
      at create (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:81:11)

    console.warn
      ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

      79 |
      80 |   it('should render main page layout', () => {
    > 81 |     render(
         |           ^
      82 |       <TestWrapper>
      83 |         <MainPage />
      84 |       </TestWrapper>

      at warn (node_modules/react-router/lib/deprecations.ts:9:13)
      at warnOnce (node_modules/react-router/lib/deprecations.ts:14:3)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:37:5)
      at logV6DeprecationWarnings (node_modules/react-router/lib/components.tsx:257:25)
      at create (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:81:11)

    console.error
      Warning: An update to ForwardRef inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at /home/nanchang/SolanaEarphone/node_modules/antd-mobile/cjs/components/button/button.js:32:62
          at div
          at onTranscript (/home/nanchang/SolanaEarphone/src/components/VoiceRecorder/VoiceRecorder.jsx:7:26)
          at div
          at div
          at div
          at MainPage (/home/nanchang/SolanaEarphone/src/pages/MainPage/MainPage.jsx:22:17)
          at children (/home/nanchang/SolanaEarphone/src/contexts/SessionContext.jsx:54:35)
          at children (/home/nanchang/SolanaEarphone/src/contexts/AuthContext.jsx:67:32)
          at children (/home/nanchang/SolanaEarphone/src/contexts/ThemeContext.js:13:33)
          at basenameProp (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:421:13)
          at basename (/home/nanchang/SolanaEarphone/node_modules/react-router/lib/components.tsx:225:3)
          at children (/home/nanchang/SolanaEarphone/src/pages/MainPage/__tests__/MainPage.test.jsx:32:24)

      at call (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at error (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInnerLoading (node_modules/antd-mobile/cjs/components/button/button.js:48:9)
      at next (node_modules/tslib/tslib.js:167:62)

  ● MainPage component › should render main page layout

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Solana Earphone":
      [36m<h1 />[39m

      --------------------------------------------------
      button:

      Name "开始录音":
      [36m<button[39m
        [33maria-label[39m=[32m"开始录音"[39m
        [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
        [33mdata-testid[39m=[32m"voice-recorder-button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------
      status:

      Name "系统状态信息":
      [36m<div[39m
        [33maria-label[39m=[32m"系统状态信息"[39m
        [33maria-live[39m=[32m"polite"[39m
        [33mclass[39m=[32m"statusBar idle"[39m
        [33mdata-testid[39m=[32m"status-bar"[39m
        [33mrole[39m=[32m"status"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      85 |     );
      86 |
    > 87 |     expect(screen.getByRole('main')).toBeInTheDocument();
         |                   ^
      88 |     expect(screen.getByTestId('voice-recorder-button')).toBeInTheDocument();
      89 |     expect(screen.getByTestId('status-bar')).toBeInTheDocument();
      90 |   });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByRole (src/pages/MainPage/__tests__/MainPage.test.jsx:87:19)

  ● MainPage component › should display greeting message in idle state

    TestingLibraryElementError: Unable to find an element with the text: /欢迎使用/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

       97 |     );
       98 |
    >  99 |     expect(screen.getByText(/欢迎使用/)).toBeInTheDocument();
          |                   ^
      100 |     expect(screen.getByText(/点击麦克风开始语音交互/)).toBeInTheDocument();
      101 |   });
      102 |

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByText (src/pages/MainPage/__tests__/MainPage.test.jsx:99:19)

  ● MainPage component › should handle transcript and call interpret API

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"query": "查询天气"}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-theme[39m=[32m"light"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
          [33mstyle[39m=[32m"--size: 10;"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
        [36m/>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mainPage"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"content"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceSection"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"voiceRecorder"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"开始录音"[39m
                    [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                    [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0m录音[0m
                    [36m</span>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"transcript"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0m识别结果: [0m
                      [0m查询天气[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"系统状态信息"[39m
              [33maria-live[39m=[32m"polite"[39m
              [33mclass[39m=[32m"statusBar idle"[39m
              [33mdata-testid[39m=[32m"status-bar"[39m
              [33mrole[39m=[32m"status"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"progress"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                  [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                      [33mstyle[39m=[32m"width: 0%;"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"status"[39m
              [36m>[39m
                [0m点击麦克风开始语音交互[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      156 |     // 等待 useEffect 处理 transcript
      157 |     await waitFor(() => {
    > 158 |       expect(mockInterpret).toHaveBeenCalledWith({
          |                             ^
      159 |         query: '查询天气'
      160 |       });
      161 |     });

      at toHaveBeenCalledWith (src/pages/MainPage/__tests__/MainPage.test.jsx:158:29)
      at callback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:76)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ● MainPage component › should display confirmation dialog when required

    Unable to find an element by: [data-testid="confirm-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      187 |     );
      188 |
    > 189 |     await waitFor(() => {
          |                  ^
      190 |       expect(screen.getByTestId('confirm-button')).toBeInTheDocument();
      191 |       expect(screen.getByTestId('cancel-button')).toBeInTheDocument();
      192 |       expect(screen.getByText(/您想查询上海的天气吗？/)).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:189:18)

  ● MainPage component › should execute tools after confirmation

    Unable to find an element by: [data-testid="confirm-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      230 |
      231 |     // 等待确认对话框出现
    > 232 |     await waitFor(() => {
          |                  ^
      233 |       expect(screen.getByTestId('confirm-button')).toBeInTheDocument();
      234 |     });
      235 |

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:232:18)

  ● MainPage component › should display execution results

    Unable to find an element with the text: /上海今天晴天，气温25度/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      284 |
      285 |     // 等待结果显示
    > 286 |     await waitFor(() => {
          |                  ^
      287 |       expect(screen.getByText(/上海今天晴天，气温25度/)).toBeInTheDocument();
      288 |     });
      289 |   });

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:286:18)

  ● MainPage component › should handle cancellation

    Unable to find an element by: [data-testid="cancel-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      315 |
      316 |     // 等待确认对话框出现
    > 317 |     await waitFor(() => {
          |                  ^
      318 |       expect(screen.getByTestId('cancel-button')).toBeInTheDocument();
      319 |     });
      320 |

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:317:18)

  ● MainPage component › should handle API errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "抱歉，处理您的请求时出现了错误"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-theme[39m=[32m"light"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
          [33mstyle[39m=[32m"--size: 10;"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
        [36m/>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mainPage"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"content"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceSection"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"voiceRecorder"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"开始录音"[39m
                    [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                    [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0m录音[0m
                    [36m</span>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"transcript"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0m识别结果: [0m
                      [0m查询天气[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"系统状态信息"[39m
              [33maria-live[39m=[32m"polite"[39m
              [33mclass[39m=[32m"statusBar idle"[39m
              [33mdata-testid[39m=[32m"status-bar"[39m
              [33mrole[39m=[32m"status"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"progress"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                  [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                      [33mstyle[39m=[32m"width: 0%;"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"status"[39m
              [36m>[39m
                [0m点击麦克风开始语音交互[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      355 |     // 等待错误处理
      356 |     await waitFor(() => {
    > 357 |       expect(mockSpeak).toHaveBeenCalledWith('抱歉，处理您的请求时出现了错误');
          |                         ^
      358 |     });
      359 |   });
      360 |

      at toHaveBeenCalledWith (src/pages/MainPage/__tests__/MainPage.test.jsx:357:25)
      at callback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:76)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ● MainPage component › should be responsive on different screen sizes

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Solana Earphone":
      [36m<h1 />[39m

      --------------------------------------------------
      button:

      Name "开始录音":
      [36m<button[39m
        [33maria-label[39m=[32m"开始录音"[39m
        [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
        [33mdata-testid[39m=[32m"voice-recorder-button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------
      status:

      Name "系统状态信息":
      [36m<div[39m
        [33maria-label[39m=[32m"系统状态信息"[39m
        [33maria-live[39m=[32m"polite"[39m
        [33mclass[39m=[32m"statusBar idle"[39m
        [33mdata-testid[39m=[32m"status-bar"[39m
        [33mrole[39m=[32m"status"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      377 |     );
      378 |
    > 379 |     const mainElement = screen.getByRole('main');
          |                                ^
      380 |     expect(mainElement).toHaveClass('mainPage');
      381 |     
      382 |     // 验证基本布局结构存在

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByRole (src/pages/MainPage/__tests__/MainPage.test.jsx:379:32)

  ● MainPage component › should call TTS for confirmation messages

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "您想查询上海的天气吗？"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-theme[39m=[32m"light"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
          [33mstyle[39m=[32m"--size: 10;"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
        [36m/>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mainPage"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"content"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceSection"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"voiceRecorder"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"开始录音"[39m
                    [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                    [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0m录音[0m
                    [36m</span>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"transcript"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0m识别结果: [0m
                      [0m查询上海天气[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"系统状态信息"[39m
              [33maria-live[39m=[32m"polite"[39m
              [33mclass[39m=[32m"statusBar idle"[39m
              [33mdata-testid[39m=[32m"status-bar"[39m
              [33mrole[39m=[32m"status"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"progress"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                  [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                      [33mstyle[39m=[32m"width: 0%;"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"status"[39m
              [36m>[39m
                [0m点击麦克风开始语音交互[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      419 |
      420 |     await waitFor(() => {
    > 421 |       expect(mockSpeak).toHaveBeenCalledWith('您想查询上海的天气吗？');
          |                         ^
      422 |     });
      423 |   });
      424 | });

      at toHaveBeenCalledWith (src/pages/MainPage/__tests__/MainPage.test.jsx:421:25)
      at callback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:76)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

------------------------------|---------|----------|---------|---------|----------------------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                      
------------------------------|---------|----------|---------|---------|----------------------------------------
All files                     |   55.52 |    53.91 |   46.66 |   57.01 |                                        
 src                          |      20 |        0 |      50 |      20 |                                        
  App.jsx                     |      20 |        0 |      50 |      20 | 13-19                                  
 src/components               |   66.66 |        0 |      50 |   66.66 |                                        
  ThemeToggle.jsx             |   66.66 |        0 |      50 |   66.66 | 13                                     
 src/components/Layout        |     100 |    83.33 |     100 |     100 |                                        
  AppLayout.jsx               |     100 |    83.33 |     100 |     100 | 27                                     
 src/components/StatusBar     |   92.85 |    89.47 |     100 |   92.85 |                                        
  StatusBar.jsx               |   92.85 |    89.47 |     100 |   92.85 | 42                                     
 src/components/VoiceRecorder |   63.63 |     62.5 |     100 |   63.63 |                                        
  VoiceRecorder.jsx           |   63.63 |     62.5 |     100 |   63.63 | 13-16                                  
 src/components/common        |       0 |        0 |       0 |       0 |                                        
  Button.jsx                  |       0 |        0 |       0 |       0 | 4-22                                   
 src/contexts                 |   55.88 |       50 |      56 |   59.13 |                                        
  AuthContext.jsx             |   41.17 |    46.15 |   57.14 |   41.17 | 27,39-59,87,93-120,126-139,145-150,171 
  SessionContext.jsx          |   58.33 |    27.27 |   36.36 |   71.42 | 30,34-46                               
  ThemeContext.js             |     100 |      100 |   85.71 |     100 |                                        
 src/hooks                    |   98.36 |    83.33 |    92.3 |   98.36 |                                        
  useTTS.js                   |     100 |      100 |     100 |     100 |                                        
  useVoice.js                 |   97.14 |       75 |   85.71 |   97.14 | 64                                     
 src/mocks                    |       0 |        0 |       0 |       0 |                                        
  browser.js                  |       0 |        0 |       0 |       0 | 5-17                                   
  handlers.js                 |       0 |        0 |       0 |       0 | 4-435                                  
 src/pages/MainPage           |   16.27 |    11.11 |   16.66 |   16.27 |                                        
  MainPage.jsx                |   16.27 |    11.11 |   16.66 |   16.27 | 28-48,54-80,86-87,93-96                
 src/pages/user               |   41.66 |        0 |      50 |   41.66 |                                        
  LoginPage.jsx               |   41.66 |        0 |      50 |   41.66 | 13-28                                  
 src/services                 |       0 |        0 |       0 |       0 |                                        
  apiClient.js                |       0 |        0 |       0 |       0 | 2-152                                  
 src/utils                    |   80.72 |    69.42 |   90.32 |   80.37 |                                        
  helpers.js                  |     100 |    84.37 |     100 |     100 | 103-106,154-178                        
  intentClassifier.js         |   97.56 |     87.5 |     100 |   97.53 | 134-135                                
  validation.js               |    59.2 |    56.52 |   57.14 |    59.2 | 77,163,168-173,196-313                 
------------------------------|---------|----------|---------|---------|----------------------------------------
Jest: "global" coverage threshold for statements (70%) not met: 55.52%
Jest: "global" coverage threshold for branches (70%) not met: 53.91%
Jest: "global" coverage threshold for lines (70%) not met: 57.01%
Jest: "global" coverage threshold for functions (70%) not met: 46.66%
Summary of all failing tests
FAIL src/components/__tests__/ThemeToggle.test.jsx
  ● Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL src/components/__tests__/accessibility.test.jsx
  ● Test suite failed to run

    Cannot find module '../../../hooks/useVoice' from 'src/components/__tests__/accessibility.test.jsx'

      11 |
      12 | // 模拟 useVoice hook
    > 13 | jest.mock('../../../hooks/useVoice', () => ({
         |      ^
      14 |   useVoice: () => ({
      15 |     isRecording: false,
      16 |     transcript: '',

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.mock (src/components/__tests__/accessibility.test.jsx:13:6)

FAIL src/contexts/__tests__/AuthContext.test.jsx
  ● Test suite failed to run

    ReferenceError: Cannot access 'mockLogin' before initialization

       6 |
       7 | jest.mock('../../services/apiClient', () => ({
    >  8 |   login: mockLogin,
         |          ^
       9 |   refreshToken: mockRefreshToken
      10 | }));
      11 |

      at mockLogin (src/contexts/__tests__/AuthContext.test.jsx:8:10)
      at Object.require (src/contexts/AuthContext.jsx:2:1)
      at Object.require (src/contexts/__tests__/AuthContext.test.jsx:12:1)

FAIL src/hooks/__tests__/useTTS.comprehensive.test.js
  ● useTTS hook › should handle speaking error

    expect(received).toBe(expected) // Object.is equality

    Expected: "语音合成失败，请重试"
    Received: "语音合成出错: synthesis-failed"

      156 |     });
      157 |
    > 158 |     expect(result.current.error).toBe('语音合成失败，请重试');
          |                                  ^
      159 |     expect(result.current.isSpeaking).toBe(false);
      160 |   });
      161 |

      at Object.toBe (src/hooks/__tests__/useTTS.comprehensive.test.js:158:34)

  ● useTTS hook › should handle unsupported browser

    expect(received).toBe(expected) // Object.is equality

    Expected: "您的浏览器不支持语音合成功能"
    Received: "启动语音合成失败: 您的浏览器不支持语音合成功能"

      186 |     });
      187 |
    > 188 |     expect(result.current.error).toBe('您的浏览器不支持语音合成功能');
          |                                  ^
      189 |     expect(result.current.isSpeaking).toBe(false);
      190 |
      191 |     // 恢复API

      at Object.toBe (src/hooks/__tests__/useTTS.comprehensive.test.js:188:34)

  ● useTTS hook › should not start new speech if already speaking

    TypeError: Cannot read properties of undefined (reading 'onstart')

      217 |
      218 |     act(() => {
    > 219 |       if (utteranceInstance.onstart) {
          |                             ^
      220 |         utteranceInstance.onstart();
      221 |       }
      222 |     });

      at onstart (src/hooks/__tests__/useTTS.comprehensive.test.js:219:29)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/hooks/__tests__/useTTS.comprehensive.test.js:218:8)

  ● useTTS hook › should configure utterance properties correctly

    TypeError: Cannot read properties of undefined (reading 'lang')

      255 |     });
      256 |
    > 257 |     expect(utteranceInstance.lang).toBe('zh-CN');
          |                              ^
      258 |     expect(utteranceInstance.rate).toBe(1.0);
      259 |     expect(utteranceInstance.pitch).toBe(1.0);
      260 |     expect(utteranceInstance.volume).toBe(1.0);

      at Object.lang (src/hooks/__tests__/useTTS.comprehensive.test.js:257:30)

  ● useTTS hook › should clear error when speaking successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: "您的浏览器不支持语音合成功能"
    Received: "启动语音合成失败: 您的浏览器不支持语音合成功能"

      273 |     });
      274 |
    > 275 |     expect(result.current.error).toBe('您的浏览器不支持语音合成功能');
          |                                  ^
      276 |
      277 |     // 恢复语音合成支持
      278 |     global.speechSynthesis = originalSpeechSynthesis;

      at Object.toBe (src/hooks/__tests__/useTTS.comprehensive.test.js:275:34)

FAIL src/services/__tests__/apiClient.test.js
  ● apiClient › Authentication › should login successfully with valid credentials

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/auth/token", {"body": "username=testuser&password=password123", "headers": {"Content-Type": "application/x-www-form-urlencoded"}, "method": "POST"}

    Number of calls: 0

      42 |       const result = await apiClient.login('testuser', 'password123');
      43 |
    > 44 |       expect(fetch).toHaveBeenCalledWith('/v1/api/auth/token', {
         |                     ^
      45 |         method: 'POST',
      46 |         headers: {
      47 |           'Content-Type': 'application/x-www-form-urlencoded'

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:44:21)

  ● apiClient › Authentication › should throw error for invalid credentials

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      61 |
      62 |       await expect(apiClient.login('testuser', 'wrongpassword'))
    > 63 |         .rejects.toThrow('Invalid credentials');
         |                  ^
      64 |     });
      65 |
      66 |     it('should handle network errors during login', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:63:18)

  ● apiClient › Authentication › should handle network errors during login

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      68 |
      69 |       await expect(apiClient.login('testuser', 'password123'))
    > 70 |         .rejects.toThrow('Network error');
         |                  ^
      71 |     });
      72 |
      73 |     it('should logout successfully', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:70:18)

  ● apiClient › Authentication › should logout successfully

    TypeError: _apiClient.default.logout is not a function

      79 |       localStorageMock.getItem.mockReturnValue('mock-token');
      80 |
    > 81 |       const result = await apiClient.logout();
         |                                      ^
      82 |
      83 |       expect(fetch).toHaveBeenCalledWith('/v1/api/auth/logout', {
      84 |         method: 'POST',

      at Object.logout (src/services/__tests__/apiClient.test.js:81:38)

  ● apiClient › Voice Interpretation › should interpret user query successfully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/interpret", {"body": "{\"query\":\"查询上海天气\"}", "headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "POST"}

    Number of calls: 0

      117 |       const result = await apiClient.interpret({ query: '查询上海天气' });
      118 |
    > 119 |       expect(fetch).toHaveBeenCalledWith('/v1/api/interpret', {
          |                     ^
      120 |         method: 'POST',
      121 |         headers: {
      122 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:119:21)

  ● apiClient › Voice Interpretation › should handle interpretation errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      137 |
      138 |       await expect(apiClient.interpret({ query: '' }))
    > 139 |         .rejects.toThrow('Invalid query format');
          |                  ^
      140 |     });
      141 |
      142 |     it('should include session ID in interpretation request', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:139:18)

  ● apiClient › Voice Interpretation › should include session ID in interpretation request

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/interpret", {"body": "{\"query\":\"测试查询\",\"session_id\":\"existing-session-456\"}", "headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "POST"}

    Number of calls: 0

      158 |       });
      159 |
    > 160 |       expect(fetch).toHaveBeenCalledWith('/v1/api/interpret', {
          |                     ^
      161 |         method: 'POST',
      162 |         headers: {
      163 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:160:21)

  ● apiClient › Tool Execution › should execute tools successfully

    ReferenceError: tool_calls is not defined

      201 |       }];
      202 |
    > 203 |       const result = await apiClient.execute({ tool_calls });
          |                                                ^
      204 |
      205 |       expect(fetch).toHaveBeenCalledWith('/v1/api/execute', {
      206 |         method: 'POST',

      at Object.tool_calls (src/services/__tests__/apiClient.test.js:203:48)

  ● apiClient › Tool Execution › should handle execution errors

    ReferenceError: tool_calls is not defined

      227 |       }];
      228 |
    > 229 |       await expect(apiClient.execute({ tool_calls }))
          |                                        ^
      230 |         .rejects.toThrow('Tool execution failed');
      231 |     });
      232 |

      at Object.tool_calls (src/services/__tests__/apiClient.test.js:229:40)

  ● apiClient › Tool Execution › should include session ID in execution request

    ReferenceError: tool_calls is not defined

      248 |
      249 |       await apiClient.execute({ 
    > 250 |         tool_calls,
          |         ^
      251 |         session_id: 'test-session-789'
      252 |       });
      253 |

      at Object.tool_calls (src/services/__tests__/apiClient.test.js:250:9)

  ● apiClient › Tools Management › should fetch tools list

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/tools", {"headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      294 |       const result = await apiClient.getTools();
      295 |
    > 296 |       expect(fetch).toHaveBeenCalledWith('/v1/api/tools', {
          |                     ^
      297 |         method: 'GET',
      298 |         headers: {
      299 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:296:21)

  ● apiClient › Tools Management › should handle tools fetch error

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      313 |
      314 |       await expect(apiClient.getTools())
    > 315 |         .rejects.toThrow('Access denied');
          |                  ^
      316 |     });
      317 |   });
      318 |

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:315:18)

  ● apiClient › User Configuration › should fetch user configuration

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/user/config", {"headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      340 |       const result = await apiClient.getUserConfig();
      341 |
    > 342 |       expect(fetch).toHaveBeenCalledWith('/v1/api/user/config', {
          |                     ^
      343 |         method: 'GET',
      344 |         headers: {
      345 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:342:21)

  ● apiClient › User Configuration › should update user configuration

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/user/config", {"body": "{\"theme\":\"light\",\"language\":\"en-US\",\"voiceSettings\":{\"rate\":1.2,\"pitch\":1.1,\"volume\":0.8}}", "headers": {"Authorization": "Bearer mock-token", "Content-Type": "application/json"}, "method": "PUT"}

    Number of calls: 0

      374 |       const result = await apiClient.updateUserConfig(config);
      375 |
    > 376 |       expect(fetch).toHaveBeenCalledWith('/v1/api/user/config', {
          |                     ^
      377 |         method: 'PUT',
      378 |         headers: {
      379 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:376:21)

  ● apiClient › Authorization Headers › should include authorization header when token exists

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/tools", {"headers": {"Authorization": "Bearer test-token-123", "Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      398 |       await apiClient.getTools();
      399 |
    > 400 |       expect(fetch).toHaveBeenCalledWith('/v1/api/tools', {
          |                     ^
      401 |         method: 'GET',
      402 |         headers: {
      403 |           'Content-Type': 'application/json',

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:400:21)

  ● apiClient › Authorization Headers › should not include authorization header when no token

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/v1/api/tools", {"headers": {"Content-Type": "application/json"}, "method": "GET"}

    Number of calls: 0

      417 |       await apiClient.getTools();
      418 |
    > 419 |       expect(fetch).toHaveBeenCalledWith('/v1/api/tools', {
          |                     ^
      420 |         method: 'GET',
      421 |         headers: {
      422 |           'Content-Type': 'application/json'

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:419:21)

  ● apiClient › Error Handling › should handle 404 errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      437 |
      438 |       await expect(apiClient.getTools())
    > 439 |         .rejects.toThrow('Not found');
          |                  ^
      440 |     });
      441 |
      442 |     it('should handle 500 errors', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:439:18)

  ● apiClient › Error Handling › should handle 500 errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      450 |
      451 |       await expect(apiClient.interpret({ query: 'test' }))
    > 452 |         .rejects.toThrow('Internal server error');
          |                  ^
      453 |     });
      454 |
      455 |     it('should handle malformed JSON responses', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:452:18)

  ● apiClient › Error Handling › should handle malformed JSON responses

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      463 |
      464 |       await expect(apiClient.execute({ tool_calls: [] }))
    > 465 |         .rejects.toThrow('Request failed with status 400');
          |                  ^
      466 |     });
      467 |
      468 |     it('should handle network timeout errors', async () => {

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:465:18)

  ● apiClient › Error Handling › should handle network timeout errors

    expect(received).rejects.toThrow()

    Matcher error: received value must be a promise or a function returning a promise

    Received has value: undefined

      472 |
      473 |       await expect(apiClient.getTools())
    > 474 |         .rejects.toThrow('Request timeout');
          |                  ^
      475 |     });
      476 |   });
      477 |

      at Object.toThrow (node_modules/expect/build/index.js:204:13)
      at Object.toThrow (src/services/__tests__/apiClient.test.js:474:18)

  ● apiClient › Request Configuration › should use correct base URL

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: StringContaining "/v1/api/tools", Any<Object>

    Number of calls: 0

      487 |       await apiClient.getTools();
      488 |
    > 489 |       expect(fetch).toHaveBeenCalledWith(
          |                     ^
      490 |         expect.stringContaining('/v1/api/tools'),
      491 |         expect.any(Object)
      492 |       );

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:489:21)

  ● apiClient › Request Configuration › should set correct content type for JSON requests

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<String>, ObjectContaining {"headers": ObjectContaining {"Content-Type": "application/json"}}

    Number of calls: 0

      503 |       await apiClient.interpret({ query: 'test' });
      504 |
    > 505 |       expect(fetch).toHaveBeenCalledWith(
          |                     ^
      506 |         expect.any(String),
      507 |         expect.objectContaining({
      508 |           headers: expect.objectContaining({

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:505:21)

  ● apiClient › Request Configuration › should set correct content type for form requests

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<String>, ObjectContaining {"headers": ObjectContaining {"Content-Type": "application/x-www-form-urlencoded"}}

    Number of calls: 0

      521 |       await apiClient.login('user', 'pass');
      522 |
    > 523 |       expect(fetch).toHaveBeenCalledWith(
          |                     ^
      524 |         expect.any(String),
      525 |         expect.objectContaining({
      526 |           headers: expect.objectContaining({

      at Object.toHaveBeenCalledWith (src/services/__tests__/apiClient.test.js:523:21)

FAIL src/hooks/__tests__/useVoice.test.js
  ● useVoice hook › should stop recording when stopRecording is called

    ReferenceError: hook is not defined

      66 |     const mockStop = jest.fn();
      67 |     await act(async () => {
    > 68 |       await hook.startRecording();
         |       ^
      69 |       await hook.stopRecording();
      70 |     });
      71 |     expect(hook.isRecording).toBe(false);

      at src/hooks/__tests__/useVoice.test.js:68:7
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/hooks/__tests__/useVoice.test.js:67:14)

FAIL src/hooks/__tests__/useVoice.comprehensive.test.js
  ● useVoice hook › should handle speech recognition error

    expect(received).toBe(expected) // Object.is equality

    Expected: "网络错误，请检查网络连接"
    Received: "语音识别出错: network"

      168 |     });
      169 |
    > 170 |     expect(result.current.error).toBe('网络错误，请检查网络连接');
          |                                  ^
      171 |     expect(result.current.isRecording).toBe(false);
      172 |   });
      173 |

      at Object.toBe (src/hooks/__tests__/useVoice.comprehensive.test.js:170:34)

  ● useVoice hook › should handle unsupported browser

    expect(received).toBe(expected) // Object.is equality

    Expected: "您的浏览器不支持语音识别功能"
    Received: "启动语音识别失败: 您的浏览器不支持语音识别功能"

      190 |     });
      191 |
    > 192 |     expect(result.current.error).toBe('您的浏览器不支持语音识别功能');
          |                                  ^
      193 |     expect(result.current.isRecording).toBe(false);
      194 |
      195 |     // 恢复API

      at Object.toBe (src/hooks/__tests__/useVoice.comprehensive.test.js:192:34)

  ● useVoice hook › should reset transcript when starting new recording

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: "第一次输入"

      243 |     });
      244 |
    > 245 |     expect(result.current.transcript).toBe('');
          |                                       ^
      246 |   });
      247 |
      248 |   it('should handle recording end event', async () => {

      at Object.toBe (src/hooks/__tests__/useVoice.comprehensive.test.js:245:39)

FAIL src/contexts/__tests__/SessionContext.comprehensive.test.jsx
  ● useSession hook › should initialize with default values

    TypeError: Cannot read properties of undefined (reading 'sessionId')

      13 |     const { result } = renderHook(() => useSession(), { wrapper });
      14 |     
    > 15 |     expect(result.current.state.sessionId).toBeNull();
         |                                 ^
      16 |     expect(result.current.state.stage).toBe('idle');
      17 |     expect(result.current.state.statusMessage).toBeNull();
      18 |     expect(result.current.state.toolCalls).toBeNull();

      at Object.sessionId (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:15:33)

  ● useSession hook › should set session ID

    TypeError: result.current.dispatch is not a function

      27 |     
      28 |     act(() => {
    > 29 |       result.current.dispatch({
         |                      ^
      30 |         type: 'SET_SESSION_ID',
      31 |         payload: 'test-session-123'
      32 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:29:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:28:8)

  ● useSession hook › should set stage

    TypeError: result.current.dispatch is not a function

      40 |     
      41 |     act(() => {
    > 42 |       result.current.dispatch({
         |                      ^
      43 |         type: 'SET_STAGE',
      44 |         payload: 'recording'
      45 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:42:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:41:8)

  ● useSession hook › should set status message

    TypeError: result.current.dispatch is not a function

      53 |     
      54 |     act(() => {
    > 55 |       result.current.dispatch({
         |                      ^
      56 |         type: 'SET_STATUS_MESSAGE',
      57 |         payload: '正在录音...'
      58 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:55:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:54:8)

  ● useSession hook › should set tool calls

    TypeError: result.current.dispatch is not a function

      70 |     
      71 |     act(() => {
    > 72 |       result.current.dispatch({
         |                      ^
      73 |         type: 'SET_TOOL_CALLS',
      74 |         payload: toolCalls
      75 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:72:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:71:8)

  ● useSession hook › should set confirm text

    TypeError: result.current.dispatch is not a function

      83 |     
      84 |     act(() => {
    > 85 |       result.current.dispatch({
         |                      ^
      86 |         type: 'SET_CONFIRM_TEXT',
      87 |         payload: '您想查询上海的天气吗？'
      88 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:85:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:84:8)

  ● useSession hook › should set result

    TypeError: result.current.dispatch is not a function

      100 |     
      101 |     act(() => {
    > 102 |       result.current.dispatch({
          |                      ^
      103 |         type: 'SET_RESULT',
      104 |         payload: resultData
      105 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:102:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:101:8)

  ● useSession hook › should set error

    TypeError: result.current.dispatch is not a function

      113 |     
      114 |     act(() => {
    > 115 |       result.current.dispatch({
          |                      ^
      116 |         type: 'SET_ERROR',
      117 |         payload: '网络连接失败'
      118 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:115:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:114:8)

  ● useSession hook › should reset to initial state

    TypeError: result.current.dispatch is not a function

      127 |     // 先设置一些状态
      128 |     act(() => {
    > 129 |       result.current.dispatch({
          |                      ^
      130 |         type: 'SET_SESSION_ID',
      131 |         payload: 'test-session-123'
      132 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:129:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:128:8)

  ● useSession hook › should handle multiple state updates in sequence

    TypeError: result.current.dispatch is not a function

      164 |     act(() => {
      165 |       // 模拟完整的会话流程
    > 166 |       result.current.dispatch({
          |                      ^
      167 |         type: 'SET_SESSION_ID',
      168 |         payload: 'session-456'
      169 |       });

      at dispatch (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:166:22)
      at callback (node_modules/@testing-library/react/dist/act-compat.js:64:24)
      at callback (node_modules/react/cjs/react.development.js:2512:16)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:164:8)

  ● useSession hook › should throw error when used outside provider

    expect(received).toThrow(expected)

    Expected substring: "useSession 必须在 SessionProvider 内部使用"
    Received message:   "useSession must be used within a SessionProvider"

          88 |   const context = useContext(SessionContext);
          89 |   if (context === undefined) {
        > 90 |     throw new Error('useSession must be used within a SessionProvider');
             |           ^
          91 |   }
          92 |   return context;
          93 | }

      at useSession (src/contexts/SessionContext.jsx:90:11)
      at src/contexts/__tests__/SessionContext.comprehensive.test.jsx:204:34
      at renderCallback (node_modules/@testing-library/react/dist/pure.js:283:27)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at render (node_modules/@testing-library/react/dist/pure.js:293:7)
      at src/contexts/__tests__/SessionContext.comprehensive.test.jsx:204:17
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.toThrow (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:205:8)
      at Object.toThrow (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:205:8)

  ● SessionProvider › should provide session context to children

    TypeError: Cannot read properties of undefined (reading 'stage')

      213 |     const TestComponent = () => {
      214 |       const { state } = useSession();
    > 215 |       return <div data-testid="session-stage">{state.stage}</div>;
          |                                                      ^
      216 |     };
      217 |
      218 |     render(

      at stage (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:215:54)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:218:11)

  ● SessionProvider › should handle multiple children components

    TypeError: Cannot read properties of undefined (reading 'stage')

      228 |     const TestComponent1 = () => {
      229 |       const { state } = useSession();
    > 230 |       return <div data-testid="component1">{state.stage}</div>;
          |                                                   ^
      231 |     };
      232 |
      233 |     const TestComponent2 = () => {

      at stage (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:230:51)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/contexts/__tests__/SessionContext.comprehensive.test.jsx:248:11)

FAIL src/__tests__/App.test.jsx
  ● App component › should render app with router

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      41 |
      42 |   it('should render app with router', () => {
    > 43 |     render(
         |           ^
      44 |       <MemoryRouter initialEntries={['/login']}>
      45 |         <App />
      46 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:43:11)

  ● App component › should redirect to login when not authenticated

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      53 |     localStorageMock.getItem.mockReturnValue(null);
      54 |
    > 55 |     render(
         |           ^
      56 |       <MemoryRouter initialEntries={['/']}>
      57 |         <App />
      58 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:55:11)

  ● App component › should show main page when authenticated

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      75 |     });
      76 |
    > 77 |     render(
         |           ^
      78 |       <MemoryRouter initialEntries={['/']}>
      79 |         <App />
      80 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:77:11)

  ● App component › should show loading state during authentication check

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      92 |     });
      93 |
    > 94 |     render(
         |           ^
      95 |       <MemoryRouter initialEntries={['/']}>
      96 |         <App />
      97 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:94:11)

  ● App component › should provide theme context

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      108 |     });
      109 |
    > 110 |     render(
          |           ^
      111 |       <MemoryRouter initialEntries={['/login']}>
      112 |         <App />
      113 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:110:11)

  ● App component › should provide session context

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      119 |
      120 |   it('should provide session context', () => {
    > 121 |     render(
          |           ^
      122 |       <MemoryRouter initialEntries={['/login']}>
      123 |         <App />
      124 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:121:11)

  ● App component › should provide auth context

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      130 |
      131 |   it('should provide auth context', () => {
    > 132 |     render(
          |           ^
      133 |       <MemoryRouter initialEntries={['/login']}>
      134 |         <App />
      135 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:132:11)

  ● App component › should handle route navigation

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      141 |
      142 |   it('should handle route navigation', () => {
    > 143 |     const { rerender } = render(
          |                                ^
      144 |       <MemoryRouter initialEntries={['/login']}>
      145 |         <App />
      146 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:143:32)

  ● App component › should handle protected route access

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      173 |     localStorageMock.getItem.mockReturnValue(null);
      174 |
    > 175 |     render(
          |           ^
      176 |       <MemoryRouter initialEntries={['/']}>
      177 |         <App />
      178 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:175:11)

  ● App component › should maintain theme consistency across routes

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      189 |     });
      190 |
    > 191 |     const { rerender } = render(
          |                                ^
      192 |       <MemoryRouter initialEntries={['/login']}>
      193 |         <App />
      194 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:191:32)

  ● App component › should restore authentication state on page refresh

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      218 |     });
      219 |
    > 220 |     render(
          |           ^
      221 |       <MemoryRouter initialEntries={['/']}>
      222 |         <App />
      223 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:220:11)

  ● App component › should handle invalid routes

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      231 |
      232 |   it('should handle invalid routes', () => {
    > 233 |     render(
          |           ^
      234 |       <MemoryRouter initialEntries={['/invalid-route']}>
      235 |         <App />
      236 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:233:11)

  ● App component › should have no accessibility violations

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      242 |
      243 |   it('should have no accessibility violations', async () => {
    > 244 |     const { container } = render(
          |                                 ^
      245 |       <MemoryRouter initialEntries={['/login']}>
      246 |         <App />
      247 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:244:33)

  ● App component › should apply global CSS styles

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      253 |
      254 |   it('should apply global CSS styles', () => {
    > 255 |     render(
          |           ^
      256 |       <MemoryRouter initialEntries={['/login']}>
      257 |         <App />
      258 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:255:11)

  ● App component › should handle browser back/forward navigation

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      265 |
      266 |   it('should handle browser back/forward navigation', () => {
    > 267 |     const { rerender } = render(
          |                                ^
      268 |       <MemoryRouter initialEntries={['/login', '/']}>
      269 |         <App />
      270 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:267:32)

  ● App component › should handle context provider errors gracefully

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      279 |     const consoleSpy = jest.spyOn(console, 'error').mockImplementation(() => {});
      280 |
    > 281 |     render(
          |           ^
      282 |       <MemoryRouter initialEntries={['/login']}>
      283 |         <App />
      284 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:281:11)

  ● App component › should support deep linking

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      301 |     });
      302 |
    > 303 |     render(
          |           ^
      304 |       <MemoryRouter initialEntries={['/']}>
      305 |         <App />
      306 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:303:11)

  ● App component › should handle logout and redirect

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      321 |     });
      322 |
    > 323 |     const { rerender } = render(
          |                                ^
      324 |       <MemoryRouter initialEntries={['/']}>
      325 |         <App />
      326 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:323:32)

  ● App component › should handle different user roles

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      352 |     });
      353 |
    > 354 |     render(
          |           ^
      355 |       <MemoryRouter initialEntries={['/']}>
      356 |         <App />
      357 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:354:11)

  ● App component › should handle session timeout

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      370 |     });
      371 |
    > 372 |     render(
          |           ^
      373 |       <MemoryRouter initialEntries={['/']}>
      374 |         <App />
      375 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:372:11)

  ● App component › should preserve route state during authentication

    You cannot render a <Router> inside another <Router>. You should never have more than one in your app.

      381 |
      382 |   it('should preserve route state during authentication', () => {
    > 383 |     render(
          |           ^
      384 |       <MemoryRouter initialEntries={['/some-protected-route']}>
      385 |         <App />
      386 |       </MemoryRouter>

      at Object.invariant [as UNSAFE_invariant] (node_modules/@remix-run/router/history.ts:494:11)
      at UNSAFE_invariant (node_modules/react-router/lib/components.tsx:429:3)
      at Component (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at callback (node_modules/react/cjs/react.development.js:2667:24)
      at flushActQueue (node_modules/react/cjs/react.development.js:2582:11)
      at reactAct (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1740:10)
      at actImplementation (node_modules/@testing-library/react/dist/act-compat.js:63:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:25)
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/__tests__/App.test.jsx:383:11)

FAIL src/components/Layout/__tests__/AppLayout.test.jsx
  ● AppLayout component › should apply theme classes

    expect(received).toBe(expected) // Object.is equality

    Expected: "dark"
    Received: "light"

      84 |
      85 |     // 检查默认dark主题
    > 86 |     expect(document.documentElement.getAttribute('data-theme')).toBe('dark');
         |                                                                 ^
      87 |
      88 |     // 模拟切换到light主题
      89 |     localStorageMock.getItem.mockReturnValue('light');

      at Object.toBe (src/components/Layout/__tests__/AppLayout.test.jsx:86:65)

FAIL src/pages/user/__tests__/LoginPage.test.jsx
  ● LoginPage component › should validate password length

    The given element does not have a value setter

       96 |     const passwordInput = screen.getByTestId('password-input');
       97 |     
    >  98 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
       99 |     fireEvent.change(passwordInput, { target: { value: '123' } });
      100 |     
      101 |     fireEvent.blur(passwordInput);

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:98:15)

  ● LoginPage component › should handle successful login

    The given element does not have a value setter

      127 |
      128 |     // 填写表单
    > 129 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      130 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      131 |     
      132 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:129:15)

  ● LoginPage component › should handle login failure

    The given element does not have a value setter

      155 |
      156 |     // 填写表单
    > 157 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      158 |     fireEvent.change(passwordInput, { target: { value: 'wrongpassword' } });
      159 |     
      160 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:157:15)

  ● LoginPage component › should show loading state during login

    The given element does not have a value setter

      188 |
      189 |     // 填写表单
    > 190 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      191 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      192 |     
      193 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:190:15)

  ● LoginPage component › should handle network errors

    The given element does not have a value setter

      226 |
      227 |     // 填写表单
    > 228 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      229 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      230 |     
      231 |     // 提交表单

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:228:15)

  ● LoginPage component › should have proper form accessibility

    expect(element).toHaveAccessibleName()

    Expected element to have accessible name:
      undefined
    Received:

      251 |     
      252 |     // 检查标签关联
    > 253 |     expect(usernameInput).toHaveAccessibleName();
          |                           ^
      254 |     expect(passwordInput).toHaveAccessibleName();
      255 |     
      256 |     // 检查必填字段标识

      at Object.toHaveAccessibleName (src/pages/user/__tests__/LoginPage.test.jsx:253:27)

  ● LoginPage component › should be keyboard navigable

    expect(received).toBe(expected) // Object.is equality

    - Expected  -   0
    + Received  + 161

    + <body>
    +   <div
    +     class="adm-px-tester"
    +     style="--size: 10;"
    +   />
    +   <div
    +     class="adm-px-tester"
    +   />
    +   <div>
    +     <div
    +       class="loginPage"
    +     >
    +       <div
    +         class="container"
    +       >
    +         <div
    +           class="header"
    +         >
    +           <h1>
    +             Solana Earphone
    +           </h1>
    +           <p>
    +             语音智能助手
    +           </p>
    +         </div>
    +         <div
    +           class="adm-card loginCard"
    +         >
    +           <div
    +             class="adm-card-body"
    +           >
    +             <form
    +               class="adm-form"
    +             >
    +               <div
    +                 class="adm-list adm-list-default"
    +               >
    +                 <div
    +                   class="adm-list-body"
    +                 >
    +                   <div
    +                     class="adm-list-body-inner"
    +                   >
                          <div
    +                       class="adm-list-item adm-form-item adm-form-item-vertical"
    +                     >
    +                       <div
    +                         class="adm-list-item-content"
    +                       >
    +                         <div
    +                           class="adm-list-item-content-main"
    +                         >
    +                           <div
    +                             class="adm-list-item-title"
    +                           >
    +                             <label
    +                               class="adm-form-item-label"
    +                               for="username"
    +                             >
    +                               用户名
    +                               <span
    +                                 class="adm-form-item-required-asterisk"
    +                               >
    +                                 *
    +                               </span>
    +                             </label>
    +                           </div>
    +                           <div
    +                             class="adm-form-item-child adm-form-item-child-position-normal"
    +                           >
    +                             <div
    +                               class="adm-form-item-child-inner"
    +                             >
    +                               <div
                                      class="adm-input"
                                      data-testid="username-input"
                                    >
                                      <input
                                        class="adm-input-element"
                                        id="username"
                                        placeholder="请输入用户名"
                                        value=""
                                      />
    +                               </div>
    +                             </div>
    +                           </div>
    +                           <div
    +                             class="adm-list-item-description"
    +                           />
    +                         </div>
                            </div>
    +                     </div>
    +                     <div
    +                       class="adm-list-item adm-form-item adm-form-item-vertical"
    +                     >
    +                       <div
    +                         class="adm-list-item-content"
    +                       >
    +                         <div
    +                           class="adm-list-item-content-main"
    +                         >
    +                           <div
    +                             class="adm-list-item-title"
    +                           >
    +                             <label
    +                               class="adm-form-item-label"
    +                               for="password"
    +                             >
    +                               密码
    +                               <span
    +                                 class="adm-form-item-required-asterisk"
    +                               >
    +                                 *
    +                               </span>
    +                             </label>
    +                           </div>
    +                           <div
    +                             class="adm-form-item-child adm-form-item-child-position-normal"
    +                           >
    +                             <div
    +                               class="adm-form-item-child-inner"
    +                             >
    +                               <div
    +                                 class="adm-input"
    +                                 data-testid="password-input"
    +                               >
    +                                 <input
    +                                   class="adm-input-element"
    +                                   id="password"
    +                                   placeholder="请输入密码"
    +                                   type="password"
    +                                   value=""
    +                                 />
    +                               </div>
    +                             </div>
    +                           </div>
    +                           <div
    +                             class="adm-list-item-description"
    +                           />
    +                         </div>
    +                       </div>
    +                     </div>
    +                   </div>
    +                 </div>
    +               </div>
    +               <div
    +                 class="adm-form-footer"
    +               >
    +                 <button
    +                   class="adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default"
    +                   data-testid="login-button"
    +                   type="submit"
    +                 >
    +                   <span>
    +                     登录
    +                   </span>
    +                 </button>
    +               </div>
    +             </form>
    +           </div>
    +         </div>
    +         <div
    +           class="footer"
    +         >
    +           <p>
    +             首次使用？请联系管理员获取账号
    +           </p>
    +         </div>
    +       </div>
    +     </div>
    +   </div>
    + </body>

      272 |     // 测试Tab键导航
      273 |     usernameInput.focus();
    > 274 |     expect(document.activeElement).toBe(usernameInput);
          |                                    ^
      275 |     
      276 |     fireEvent.keyDown(usernameInput, { key: 'Tab' });
      277 |     expect(document.activeElement).toBe(passwordInput);

      at Object.toBe (src/pages/user/__tests__/LoginPage.test.jsx:274:36)

  ● LoginPage component › should support Enter key submission

    The given element does not have a value setter

      301 |
      302 |     // 填写表单
    > 303 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      304 |     fireEvent.change(passwordInput, { target: { value: 'password123' } });
      305 |     
      306 |     // 在密码字段按Enter键

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:303:15)

  ● LoginPage component › should be responsive on mobile devices

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Solana Earphone":
      [36m<h1 />[39m

      --------------------------------------------------
      textbox:

      Name "用户名 *":
      [36m<input[39m
        [33mclass[39m=[32m"adm-input-element"[39m
        [33mid[39m=[32m"username"[39m
        [33mplaceholder[39m=[32m"请输入用户名"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "登录":
      [36m<button[39m
        [33mclass[39m=[32m"adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default"[39m
        [33mdata-testid[39m=[32m"login-button"[39m
        [33mtype[39m=[32m"submit"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"loginPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"adm-card loginCard"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-card-body"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"adm-form"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-list adm-list-default"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-list-body"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"adm-list-body-inner"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"adm-list-item adm-form-item adm-form-item-vertical"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"adm-list-item-content"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"adm-list-item-content-main"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-title"[39m
                              [36m>[39m
                                [36m<label[39m
                                  [33mclass[39m=[32m"adm-form-item-label"[39m
                                  [33mfor[39m=[32m"username"[39m
                                [36m>[39m
                                  [0m用户名[0m
                                  [36m<span[39m
                                    [33mclass[39m=[32m"adm-form-item-required-asterisk"[39m
                                  [36m>[39m
                                    [0m*[0m
                                  [36m</span>[39m
                                [36m</label>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-form-item-child adm-form-item-child-position-normal"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"adm-form-item-child-inner"[39m
                                [36m>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"adm-input"[39m
                                    [33mdata-testid[39m=[32m"username-input"[39m
                                  [36m>[39m
                                    [36m<input[39m
                                      [33mclass[39m=[32m"adm-input-element"[39m
                                      [33mid[39m=[32m"username"[39m
                                      [33mplaceholder[39m=[32m"请输入用户名"[39m
                                      [33mvalue[39m=[32m""[39m
                                    [36m/>[39m
                                  [36m</div>[39m
                                [36m</div>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-description"[39m
                              [36m/>[39m
                            [36m</div>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"adm-list-item adm-form-item adm-form-item-vertical"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"adm-list-item-content"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"adm-list-item-content-main"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-title"[39m
                              [36m>[39m
                                [36m<label[39m
                                  [33mclass[39m=[32m"adm-form-item-label"[39m
                                  [33mfor[39m=[32m"password"[39m
                                [36m>[39m
                                  [0m密码[0m
                                  [36m<span[39m
                                    [33mclass[39m=[32m"adm-form-item-required-asterisk"[39m
                                  [36m>[39m
                                    [0m*[0m
                                  [36m</span>[39m
                                [36m</label>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-form-item-child adm-form-item-child-position-normal"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"adm-form-item-child-inner"[39m
                                [36m>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"adm-input"[39m
                                    [33mdata-testid[39m=[32m"password-input"[39m
                                  [36m>[39m
                                    [36m<input[39m
                                      [33mclass[39m=[32m"adm-input-element"[39m
                                      [33mid[39m=[32m"password"[39m
                                      [33mplaceholder[39m=[32m"请输入密码"[39m
                                      [33mtype[39m=[32m"password"[39m
                                      [33mvalue[39m=[32m""[39m
                                    [36m/>[39m
                                  [36m</div>[39m
                                [36m</div>[39m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"adm-list-item-description"[39m
                              [36m/>[39m
                            [36m</div>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-form-footer"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default"[39m
                      [33mdata-testid[39m=[32m"login-button"[39m
                      [33mtype[39m=[32m"submit"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0m登录[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"footer"[39m
            [36m>[39m
              [36m<p>[39m
                [0m首次使用？请联系管理员获取账号[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      347 |     );
      348 |
    > 349 |     const container = screen.getByRole('main').parentElement;
          |                              ^
      350 |     expect(container).toHaveClass('loginPage');
      351 |   });
      352 |

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByRole (src/pages/user/__tests__/LoginPage.test.jsx:349:30)

  ● LoginPage component › should handle form input focus states

    expect(element).toHaveFocus()

    Expected element with focus:
      <div class="adm-input" data-testid="username-input"><input class="adm-input-element" id="username" placeholder="请输入用户名" value="" /></div>
    Received element with focus:
      <body><div class="adm-px-tester" style="--size: 10;" /><div class="adm-px-tester" /><div><div class="loginPage"><div class="container"><div class="header"><h1>Solana Earphone</h1><p>语音智能助手</p></div><div class="adm-card loginCard"><div class="adm-card-body"><form class="adm-form"><div class="adm-list adm-list-default"><div class="adm-list-body"><div class="adm-list-body-inner"><div … /><div … /></div></div></div><div class="adm-form-footer"><button class="adm-button adm-button-primary adm-button-block adm-button-large adm-button-shape-default" data-testid="login-button" type="submit"><span>登录</span></button></div></form></div></div><div class="footer"><p>首次使用？请联系管理员获取账号</p></div></div></div></div></body>

      361 |     
      362 |     fireEvent.focus(usernameInput);
    > 363 |     expect(usernameInput).toHaveFocus();
          |                           ^
      364 |     
      365 |     fireEvent.blur(usernameInput);
      366 |     expect(usernameInput).not.toHaveFocus();

      at Object.toHaveFocus (src/pages/user/__tests__/LoginPage.test.jsx:363:27)

  ● LoginPage component › should maintain form state during typing

    The given element does not have a value setter

      378 |
      379 |     // 输入用户名
    > 380 |     fireEvent.change(usernameInput, { target: { value: 'testuser' } });
          |               ^
      381 |     expect(usernameInput).toHaveValue('testuser');
      382 |
      383 |     // 输入密码

      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:131:13)
      at setNativeValue (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:41:5)
      at Function.createEvent [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:106:38)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/events.js:110:68)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:18:52)
      at Object.change (src/pages/user/__tests__/LoginPage.test.jsx:380:15)

FAIL src/components/VoiceRecorder/__tests__/VoiceRecorder.comprehensive.test.jsx
  ● Test suite failed to run

    Jest worker encountered 4 child process exceptions, exceeding retry limit

      at ChildProcessWorker.initialize (node_modules/jest-worker/build/workers/ChildProcessWorker.js:181:21)

FAIL src/pages/MainPage/__tests__/MainPage.test.jsx (10.044 s)
  ● MainPage component › should render main page layout

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Solana Earphone":
      [36m<h1 />[39m

      --------------------------------------------------
      button:

      Name "开始录音":
      [36m<button[39m
        [33maria-label[39m=[32m"开始录音"[39m
        [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
        [33mdata-testid[39m=[32m"voice-recorder-button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------
      status:

      Name "系统状态信息":
      [36m<div[39m
        [33maria-label[39m=[32m"系统状态信息"[39m
        [33maria-live[39m=[32m"polite"[39m
        [33mclass[39m=[32m"statusBar idle"[39m
        [33mdata-testid[39m=[32m"status-bar"[39m
        [33mrole[39m=[32m"status"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      85 |     );
      86 |
    > 87 |     expect(screen.getByRole('main')).toBeInTheDocument();
         |                   ^
      88 |     expect(screen.getByTestId('voice-recorder-button')).toBeInTheDocument();
      89 |     expect(screen.getByTestId('status-bar')).toBeInTheDocument();
      90 |   });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByRole (src/pages/MainPage/__tests__/MainPage.test.jsx:87:19)

  ● MainPage component › should display greeting message in idle state

    TestingLibraryElementError: Unable to find an element with the text: /欢迎使用/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

       97 |     );
       98 |
    >  99 |     expect(screen.getByText(/欢迎使用/)).toBeInTheDocument();
          |                   ^
      100 |     expect(screen.getByText(/点击麦克风开始语音交互/)).toBeInTheDocument();
      101 |   });
      102 |

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByText (src/pages/MainPage/__tests__/MainPage.test.jsx:99:19)

  ● MainPage component › should handle transcript and call interpret API

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"query": "查询天气"}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-theme[39m=[32m"light"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
          [33mstyle[39m=[32m"--size: 10;"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
        [36m/>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mainPage"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"content"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceSection"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"voiceRecorder"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"开始录音"[39m
                    [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                    [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0m录音[0m
                    [36m</span>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"transcript"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0m识别结果: [0m
                      [0m查询天气[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"系统状态信息"[39m
              [33maria-live[39m=[32m"polite"[39m
              [33mclass[39m=[32m"statusBar idle"[39m
              [33mdata-testid[39m=[32m"status-bar"[39m
              [33mrole[39m=[32m"status"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"progress"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                  [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                      [33mstyle[39m=[32m"width: 0%;"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"status"[39m
              [36m>[39m
                [0m点击麦克风开始语音交互[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      156 |     // 等待 useEffect 处理 transcript
      157 |     await waitFor(() => {
    > 158 |       expect(mockInterpret).toHaveBeenCalledWith({
          |                             ^
      159 |         query: '查询天气'
      160 |       });
      161 |     });

      at toHaveBeenCalledWith (src/pages/MainPage/__tests__/MainPage.test.jsx:158:29)
      at callback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:76)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ● MainPage component › should display confirmation dialog when required

    Unable to find an element by: [data-testid="confirm-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      187 |     );
      188 |
    > 189 |     await waitFor(() => {
          |                  ^
      190 |       expect(screen.getByTestId('confirm-button')).toBeInTheDocument();
      191 |       expect(screen.getByTestId('cancel-button')).toBeInTheDocument();
      192 |       expect(screen.getByText(/您想查询上海的天气吗？/)).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:189:18)

  ● MainPage component › should execute tools after confirmation

    Unable to find an element by: [data-testid="confirm-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      230 |
      231 |     // 等待确认对话框出现
    > 232 |     await waitFor(() => {
          |                  ^
      233 |       expect(screen.getByTestId('confirm-button')).toBeInTheDocument();
      234 |     });
      235 |

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:232:18)

  ● MainPage component › should display execution results

    Unable to find an element with the text: /上海今天晴天，气温25度/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      284 |
      285 |     // 等待结果显示
    > 286 |     await waitFor(() => {
          |                  ^
      287 |       expect(screen.getByText(/上海今天晴天，气温25度/)).toBeInTheDocument();
      288 |     });
      289 |   });

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:286:18)

  ● MainPage component › should handle cancellation

    Unable to find an element by: [data-testid="cancel-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"transcript"[39m
                [36m>[39m
                  [36m<p>[39m
                    [0m识别结果: [0m
                    [0m查询上海天气[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      315 |
      316 |     // 等待确认对话框出现
    > 317 |     await waitFor(() => {
          |                  ^
      318 |       expect(screen.getByTestId('cancel-button')).toBeInTheDocument();
      319 |     });
      320 |

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/pages/MainPage/__tests__/MainPage.test.jsx:317:18)

  ● MainPage component › should handle API errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "抱歉，处理您的请求时出现了错误"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-theme[39m=[32m"light"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
          [33mstyle[39m=[32m"--size: 10;"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
        [36m/>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mainPage"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"content"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceSection"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"voiceRecorder"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"开始录音"[39m
                    [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                    [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0m录音[0m
                    [36m</span>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"transcript"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0m识别结果: [0m
                      [0m查询天气[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"系统状态信息"[39m
              [33maria-live[39m=[32m"polite"[39m
              [33mclass[39m=[32m"statusBar idle"[39m
              [33mdata-testid[39m=[32m"status-bar"[39m
              [33mrole[39m=[32m"status"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"progress"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                  [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                      [33mstyle[39m=[32m"width: 0%;"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"status"[39m
              [36m>[39m
                [0m点击麦克风开始语音交互[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      355 |     // 等待错误处理
      356 |     await waitFor(() => {
    > 357 |       expect(mockSpeak).toHaveBeenCalledWith('抱歉，处理您的请求时出现了错误');
          |                         ^
      358 |     });
      359 |   });
      360 |

      at toHaveBeenCalledWith (src/pages/MainPage/__tests__/MainPage.test.jsx:357:25)
      at callback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:76)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ● MainPage component › should be responsive on different screen sizes

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Solana Earphone":
      [36m<h1 />[39m

      --------------------------------------------------
      button:

      Name "开始录音":
      [36m<button[39m
        [33maria-label[39m=[32m"开始录音"[39m
        [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
        [33mdata-testid[39m=[32m"voice-recorder-button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------
      status:

      Name "系统状态信息":
      [36m<div[39m
        [33maria-label[39m=[32m"系统状态信息"[39m
        [33maria-live[39m=[32m"polite"[39m
        [33mclass[39m=[32m"statusBar idle"[39m
        [33mdata-testid[39m=[32m"status-bar"[39m
        [33mrole[39m=[32m"status"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
        [33mstyle[39m=[32m"--size: 10;"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"adm-px-tester"[39m
      [36m/>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mainPage"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"header"[39m
          [36m>[39m
            [36m<h1>[39m
              [0mSolana Earphone[0m
            [36m</h1>[39m
            [36m<p>[39m
              [0m语音智能助手[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"voiceSection"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceRecorder"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"开始录音"[39m
                  [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                  [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0m录音[0m
                  [36m</span>[39m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"系统状态信息"[39m
            [33maria-live[39m=[32m"polite"[39m
            [33mclass[39m=[32m"statusBar idle"[39m
            [33mdata-testid[39m=[32m"status-bar"[39m
            [33mrole[39m=[32m"status"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"progress"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                    [33mstyle[39m=[32m"width: 0%;"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"status"[39m
            [36m>[39m
              [0m点击麦克风开始语音交互[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      377 |     );
      378 |
    > 379 |     const mainElement = screen.getByRole('main');
          |                                ^
      380 |     expect(mainElement).toHaveClass('mainPage');
      381 |     
      382 |     // 验证基本布局结构存在

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:76:38)
      at allQuery (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:52:17)
      at query (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.getByRole (src/pages/MainPage/__tests__/MainPage.test.jsx:379:32)

  ● MainPage component › should call TTS for confirmation messages

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "您想查询上海的天气吗？"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html[39m
      [33mdata-theme[39m=[32m"light"[39m
    [36m>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
          [33mstyle[39m=[32m"--size: 10;"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"adm-px-tester"[39m
        [36m/>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mainPage"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header"[39m
            [36m>[39m
              [36m<h1>[39m
                [0mSolana Earphone[0m
              [36m</h1>[39m
              [36m<p>[39m
                [0m语音智能助手[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"content"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"voiceSection"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"voiceRecorder"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"开始录音"[39m
                    [33mclass[39m=[32m"adm-button adm-button-primary adm-button-large adm-button-shape-round recordButton "[39m
                    [33mdata-testid[39m=[32m"voice-recorder-button"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0m录音[0m
                    [36m</span>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"transcript"[39m
                  [36m>[39m
                    [36m<p>[39m
                      [0m识别结果: [0m
                      [0m查询上海天气[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"系统状态信息"[39m
              [33maria-live[39m=[32m"polite"[39m
              [33mclass[39m=[32m"statusBar idle"[39m
              [33mdata-testid[39m=[32m"status-bar"[39m
              [33mrole[39m=[32m"status"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"progress"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"adm-progress-bar adm-progress-bar-rounded"[39m
                  [33mstyle[39m=[32m"--fill-color: var(--color-primary);"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"adm-progress-bar-trail"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"adm-progress-bar-fill"[39m
                      [33mstyle[39m=[32m"width: 0%;"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"status"[39m
              [36m>[39m
                [0m点击麦克风开始语音交互[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      419 |
      420 |     await waitFor(() => {
    > 421 |       expect(mockSpeak).toHaveBeenCalledWith('您想查询上海的天气吗？');
          |                         ^
      422 |     });
      423 |   });
      424 | });

      at toHaveBeenCalledWith (src/pages/MainPage/__tests__/MainPage.test.jsx:421:25)
      at callback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:76)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)


Test Suites: 13 failed, 8 passed, 21 total
Tests:       88 failed, 191 passed, 279 total
Snapshots:   0 total
Time:        14.654 s, estimated 15 s
Ran all test suites.
